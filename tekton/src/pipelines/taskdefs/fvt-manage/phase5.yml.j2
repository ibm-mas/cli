# -------------------------------------------------------------
# LAST PHASE (tests running one after the other)
# - fvt-manage-application-designer
# - fvt-manage-startcenter-config
# - fvt-manage-workflow-designer
# - fvt-manage-smtp-setup
# -------------------------------------------------------------

# Manage FVT BIRT Reports
- name: fvt-manage-birt-report
  {{ lookup('template', 'taskdefs/fvt-manage/ui/taskref.yml.j2') | indent(2) }}
  {{ lookup('template', 'taskdefs/fvt-manage/ui/when.yml.j2') | indent(2) }}
  params:
    {{ lookup('template', 'taskdefs/fvt-manage/ui/params.yml.j2') | indent(4) }}
    - name: fvt_test_suite_prefix
      value: core
    - name: fvt_test_suite
      value: birtreportexe
  runAfter:
    - fvt-manage-mif-kafka
    - fvt-manage-wo-doclink
    - fvt-manage-directprint
    - fvt-manage-user-crud
    - fvt-manage-user-consumption
    - fvt-manage-communication-temp

# Manage FVT Adhoc Reports
- name: fvt-manage-adhoc-report
  {{ lookup('template', 'taskdefs/fvt-manage/ui/taskref.yml.j2') | indent(2) }}
  {{ lookup('template', 'taskdefs/fvt-manage/ui/when.yml.j2') | indent(2) }}
  params:
    {{ lookup('template', 'taskdefs/fvt-manage/ui/params.yml.j2') | indent(4) }}
    - name: fvt_test_suite_prefix
      value: core
    - name: fvt_test_suite
      value: adhoc
  runAfter:
    - fvt-manage-mif-kafka
    - fvt-manage-wo-doclink
    - fvt-manage-directprint
    - fvt-manage-user-crud
    - fvt-manage-user-consumption
    - fvt-manage-communication-temp
    - fvt-manage-birt-report

- name: fvt-manage-last-phase
  {{ lookup('template', 'taskdefs/fvt-manage/ui/when.yml.j2') | indent(2) }}
  taskRef:
    kind: Task
    name: mas-fvt-manage-last-phase
  params:
    {{ lookup('template', 'taskdefs/fvt-manage/ui/params.yml.j2') | indent(4) }}    
  runAfter:
    - fvt-manage-mif-kafka
    - fvt-manage-wo-doclink
    - fvt-manage-directprint
    - fvt-manage-user-crud
    - fvt-manage-user-consumption
    - fvt-manage-communication-temp
    - fvt-manage-adhoc-report
    - fvt-manage-birt-report

# Cluster config
- name: ocp_ingress_tls_secret_name
  type: string
  default: ""

# IBM Cloud
# -----------------------------------------------------------------------------
- name: ibmcloud_apikey
  type: string
  default: ""
- name: ibmcloud_resourcegroup
  type: string
  default: ""

# Dependencies - ECK
# -----------------------------------------------------------------------------
{{ lookup('template', params_src_dir ~ '/install-eck.yml.j2') }}

# Dependencies - Turbonomic
# -----------------------------------------------------------------------------
{{ lookup('template', params_src_dir ~ '/install-turbonomic.yml.j2') }}

# Dependencies - SLS
# -----------------------------------------------------------------------------
- name: sls_namespace
  type: string
  default: ""
- name: sls_entitlement_file
  type: string
  default: "/workspace/entitlement/entitlement.lic"
- name: sls_mongodb_cfg_file
  type: string
  default: "/workspace/configs/mongo-mongoce.yml"
- name: sls_catalog_source
  type: string
  default: ""
- name: sls_channel
  type: string
  default: ""
- name: sls_icr_cpopen
  type: string
  default: ""

# Dependencies - MongoDb
# -----------------------------------------------------------------------------
- name: mongodb_namespace
  type: string
  default: ""
- name: mongodb_storage_class
  type: string
  default: ""
- name: mongodb_replicas
  type: string
  description: Optional configuration for mongodb replicas
  default: ""
- name: mongodb_cpu_requests
  type: string
  description: Optional configuration for mongodb cpu requests
  default: ""
- name: mongodb_provider
  type: string
  description: MongoDb provider
  default: ""
- name: mongodb_version
  type: string
  description: MongoDb version
  default: ""
- name: mongodb_action
  type: string
  description: MongoDb action
  default: ""

# Dependencies - IBM Cloud MongoDb
# -------------------------------------------------------------------------
- name: ibm_mongo_name
  type: string
  description: IBM Cloud MongoDb instance name
  default: ""
- name: ibm_mongo_resourcegroup
  type: string
  description: IBM Cloud MongoDb resource group
  default: ""
- name: ibm_mongo_region
  type: string
  description: IBM Cloud MongoDb instance region
  default: ""
- name: ibm_mongo_admin_password
  type: string
  description: IBM Cloud MongoDb admin password
  default: ""

# Dependencies (Kafka) - General variables
- name: kafka_action_system
  type: string
  description: Set to 'install' to set up a Kafka instance for the whole suite
  default: "none"
- name: kafka_provider
  type: string
  description: Kafka provider
  default: ""
- name: kafka_version
  type: string
  description: Kafka version
  default: ""

# Dependencies - AMQ Streams / Strimzi (Kafka)
# -----------------------------------------------------------------------------
- name: kafka_namespace
  type: string
  default: ""
- name: kafka_cluster_size
  type: string
  default: ""
- name: kafka_user_name
  type: string
  default: ""

# Dependencies - AWS MSK (Kafka)
# -------------------------------------------------------------------------
- name: vpc_id
  type: string
  default: ""
- name: aws_kafka_user_name
  type: string
  default: ""
- name: aws_kafka_user_password
  type: string
  default: ""
- name: aws_msk_instance_type
  type: string
  default: ""
- name: aws_msk_instance_number
  type: string
  default: ""
- name: aws_msk_volume_size
  type: string
  default: ""
- name: aws_msk_cidr_az1
  type: string
  default: ""
- name: aws_msk_cidr_az2
  type: string
  default: ""
- name: aws_msk_cidr_az3
  type: string
  default: ""
- name: aws_msk_ingress_cidr
  type: string
  default: ""
- name: aws_msk_egress_cidr
  type: string
  default: ""

# Dependencies - IBM Cloud Event Streams (Kafka)
# -----------------------------------------------------------------------------
- name: eventstreams_resourcegroup
  type: string
  default: ""
- name: eventstreams_name
  type: string
  default: ""
- name: eventstreams_location
  type: string
  default: ""
- name: eventstreams_retention
  type: string
  default: ""
- name: eventstreams_create_manage_jms_topics
  type: string
  default: ""

# Dependencies - NVIDIA GPU
# -----------------------------------------------------------------------------
- name: gpu_namespace
  type: string
  description: Optional. Nvidia gpu namespace
  default: ""
- name: gpu_channel
  type: string
  description: Optional. Nvidia gpu channel for install and updates
  default: ""
- name: nfd_namespace
  type: string
  description: Optional. Node feature discovery namespace
  default: ""
- name: nfd_channel
  type: string
  description: Optional. Node feature discovery channel for install and updates
  default: ""

# Dependencies - DB2
# -----------------------------------------------------------------------------
{{ lookup('template', params_src_dir ~ '/install-db2.yml.j2') }}
- name: db2_action_system
  type: string
  description: Set to 'install' to set up a Db2 instance for the whole suite
  default: "none"
- name: db2_action_manage
  type: string
  description: Set to 'install' to set up a Db2 instance for Manage
  default: "none"
- name: db2_binding_manage
  type: string
  description: Set to 'system' if using the shared system JDBC configuration, or 'workspace-application' if using a dedicated JDBC configuration.
  default: ""

# Dependencies - CP4D
# -----------------------------------------------------------------------------
- name: cpd_operators_namespace
  type: string
  default: ""
- name: cpd_instance_namespace
  type: string
  default: ""
- name: cpd_primary_storage_class
  type: string
  default: ""
- name: cpd_metadata_storage_class
  type: string
  default: ""

# Dependencies - CP4D Services
# -----------------------------------------------------------------------------
- name: cpd_product_version
  type: string
  default: ""
- name: cpd_install_spss
  type: string
  default: ""
- name: cpd_install_openscale
  type: string
  default: ""
- name: cpd_install_cognos
  type: string
  default: ""

# Dependencies - UDS
# -----------------------------------------------------------------------------
- name: uds_contact_email
  type: string
  default: ""
- name: uds_contact_firstname
  type: string
  default: ""
- name: uds_contact_lastname
  type: string
  default: ""
- name: uds_event_scheduler_frequency
  type: string
  default: ""
- name: uds_action
  type: string
  default: ""
- name: dro_namespace
  type: string
  default: ""
- name: mas_segment_key
  type: string
  default: ""

# Dependencies - AppConnect
# -----------------------------------------------------------------------------
{{ lookup('template', params_src_dir ~ '/install-appconnect.yml.j2') }}

# Dependencies - COS
# -----------------------------------------------------------------------------
- name: cos_type
  type: string
  description: COS Provider (ibm or ocs)
  default: ""
- name: cos_resourcegroup
  type: string
  description: Name of an existing COS Resource Group in IBM Cloud account
  default: ""
- name: cos_instance_name
  type: string
  description: Name of COS instance in IBM Cloud account
  default: ""
- name: cos_action
  type: string
  description: COS action to be performed (provision or deprovision)
  default: ""

# MAS Integration - Grafana
# -----------------------------------------------------------------------------
- name: grafana_action
  type: string
  description: Set to 'none' to skip Grafana installation
  default: "install"
- name: grafana_namespace
  type: string
  default: ""
- name: grafana_v5_namespace
  type: string
  default: ""
- name: grafana_instance_storage_class
  type: string
  default: ""
- name: grafana_instance_storage_size
  type: string
  default: ""
- name: grafana_major_version
  type: string
  default: ""

# Certificate Manager
# -----------------------------------------------------------------------------
- name: cert_manager_provider
  type: string
  default: ""
- name: cert_manager_action
  type: string
  default: ""

# MAS DNS Integrations - General
# -----------------------------------------------------------------------------
- name: dns_provider
  type: string
  default: ""

# MAS DNS Integrations - Cloudflare Support
# -----------------------------------------------------------------------------
- name: cloudflare_email
  type: string
  default: ""
- name: cloudflare_apitoken
  type: string
  default: ""
- name: cloudflare_zone
  type: string
  default: ""
- name: cloudflare_subdomain
  type: string
  default: ""

# MAS DNS Integrations - IBM Cloud Internet Services Support
# -----------------------------------------------------------------------------
- name: cis_email
  type: string
  default: ""
- name: cis_apikey
  type: string
  default: ""
- name: cis_crn
  type: string
  default: ""
- name: cis_subdomain
  type: string
  default: ""

# MAS DNS Integrations - CIS Security Enhancement Support
# -------------------------------------------------------------------------
- name: cis_service_name
  type: string
  default: ""
- name: cis_enhanced_security
  type: string
  default: "false"
- name: override_edge_certs
  type: string
  default: "false"
- name: cis_proxy
  type: string
  default: "false"

# AWS basic info
# -------------------------------------------------------------------------
- name: aws_access_key_id
  type: string
  default: ""
- name: aws_secret_access_key
  type: string
  default: ""
- name: aws_region
  type: string
  default: ""

# MAS DNS Integrations - AWS Route 53
# -------------------------------------------------------------------------
- name: route53_hosted_zone_name
  type: string
  default: ""
- name: route53_hosted_zone_region
  type: string
  default: ""
- name: route53_email
  type: string
  default: ""
- name: route53_subdomain
  type: string
  default: ""

{{ lookup('template', params_src_dir ~ '/install-ibmcatalogs.yml.j2') }}

{{ lookup('template', params_src_dir ~ '/install-workspace.yml.j2') }}

{{ lookup('template', params_src_dir ~ '/install-appchannels.yml.j2') }}

# MAS Configuration
# -----------------------------------------------------------------------------
- name: mas_domain
  type: string
  default: ""
- name: mas_cluster_issuer
  type: string
  default: ""
- name: mas_icr_cp
  type: string
  default: ""
- name: mas_icr_cpopen
  type: string
  default: ""
- name: mas_annotations
  type: string
  default: ""
- name: mas_trust_default_cas
  type: string
  default: ""
  description: Optional boolean parameter that when set to False, disables the normal trust of well known public certificate authorities
- name: enable_ipv6
  type: string
  default: "False"
  description: Optional boolean parameter that when set to True, enables IPv6
- name: mas_manual_cert_mgmt
  type: string
  default: "False"
  description: Optional boolean parameter that when set to True, indicates that manually created certificates will be used to certify MAS and application routes
- name: mas_add_channel
  type: string
  default: ""
  description: Data Dictionary subscription channel
- name: mas_add_catalog
  type: string
  default: ""
  description: Data Dictionary catalog source
- name: mas_enable_walkme
  type: string
  default: "True"
  description: Optional parameter to enable or disable guided tour

# SSO Configuration
# -----------------------------------------------------------------------------
- name: idle_timeout
  type: string
  default: ''
- name: idp_session_timeout
  type: string
  default: ''
- name: access_token_timeout
  type: string
  default: ''
- name: refresh_token_timeout
  type: string
  default: ''
- name: default_idp
  type: string
  default: ''
- name: seamless_login
  type: string
  default: ''
- name: sso_cookie_name
  type: string
  default: ''
- name: allow_default_sso_cookie_name
  type: string
  default: ''
- name: use_only_custom_cookie_name
  type: string
  default: ''
- name: disable_ldap_cookie
  type: string
  default: ''
- name: allow_custom_cache_key
  type: string
  default: ''

# MAS Configuration - Superuser Account
# -----------------------------------------------------------------------------
- name: mas_superuser_username
  type: string
  default: ""
- name: mas_superuser_password
  type: string
  default: ""

# MAS Application Configuration - IoT Application
# -----------------------------------------------------------------------------
- name: mas_app_settings_iot_deployment_size
  type: string
  description: controls the workload size of iot containers
  default: ""
- name: mas_app_settings_iot_mqttbroker_pvc_storage_class
  type: string
  description: defines storage class for iot messagesight
  default: ""
- name: mas_app_settings_iot_fpl_pvc_storage_class
  type: string
  description: defines storage class for iot functions pipeline component
  default: ""

# MAS Application Configuration - Manage Application
# -----------------------------------------------------------------------------
- name: mas_appws_bindings_jdbc_manage
  type: string
  description: Select the JDBC configuration to bind to
  default: system
- name: mas_appws_components
  type: string
  description: Manage components to configure in the workspace
  default: "base=latest,health=latest"
- name: mas_app_settings_aio_flag
  type: string
  description: Flag indicating if Asset Investment Optimization (AIO) resource must be loaded or not. It can be loaded only when Optimizer application is installed.
  default: ""
- name: mas_app_settings_demodata
  type: string
  description: Flag indicating if manage demodata should be loaded or not
  default: ""
- name: mas_app_settings_base_lang
  type: string
  description: Defines Manage application base language
  default: "EN"
- name: mas_app_settings_secondary_langs
  type: string
  description: Defines Manage application list of secondary languages
  default: ""
- name: mas_app_settings_server_timezone
  type: string
  description: Defines Manage server timezone
  default: ""
- name: mas_app_settings_persistent_volumes_flag
  type: string
  description: Flag indicating if persistent volumes should be configured by default during Manage Workspace activation. There are two defaulted File Storage Persistent Volumes Claim resources that will be created out of the box for Manage if this flag is set to true.
  default: "False"
- name: mas_app_settings_jms_queue_pvc_storage_class
  type: string
  description: Storage Class for Manage JMS queues.
  default: ""
- name: mas_app_settings_jms_queue_pvc_accessmode
  type: string
  description: Storage Access Mode for Manage JMS queues.
  default: ""
- name: mas_app_settings_bim_pvc_storage_class
  type: string
  description: Storage Class for Manage BIM.
  default: ""
- name: mas_app_settings_bim_pvc_accessmode
  type: string
  description: Storage Access Mode for Manage BIM.
  default: ""
- name: mas_app_settings_doclinks_pvc_storage_class
  type: string
  description: Storage Class for Manage Doclinks.
  default: ""
- name: mas_app_settings_doclinks_pvc_accessmode
  type: string
  description: Storage Access Mode for Manage Doclinks.
  default: ""
- name: mas_app_settings_server_bundles_size
  type: string
  description: Provides different flavors of server bundle configuration to handle workload for Manage application.
  default: "dev"
- name: mas_app_settings_tablespace
  type: string
  description: Name of the Manage database tablespace
  default: ""
- name: mas_app_settings_indexspace
  type: string
  description: Name of the Manage database indexspace
  default: ""
- name: mas_app_settings_db2_schema
  type: string
  description: Name of the Manage database schema
  default: ""
- name: mas_app_settings_customization_archive_name
  type: string
  description: Name of the Manage custom archive
  default: ""
- name: mas_app_settings_customization_archive_url
  type: string
  description: URL of the Manage custom archive
  default: ""
- name: mas_app_settings_customization_archive_username
  type: string
  description: Username to authenticate into Manage custom archive url (if required)
  default: ""
- name: mas_app_settings_customization_archive_password
  type: string
  description: Password to authenticate into Manage custom archive url (if required)
  default: ""
- name: mas_app_settings_crypto_key
  type: string
  description: Manage database encryption key for MXE_SECURITY_CRYPTO_KEY
  default: ""
- name: mas_app_settings_cryptox_key
  type: string
  description: Manage database encryption key for MXE_SECURITY_CRYPTOX_KEY
  default: ""
- name: mas_app_settings_old_crypto_key
  type: string
  description: Manage database encryption key for MXE_SECURITY_OLD_CRYPTO_KEY
  default: ""
- name: mas_app_settings_old_cryptox_key
  type: string
  description: Manage database encryption key for MXE_SECURITY_OLD_CRYPTOX_KEY
  default: ""
- name: mas_app_settings_override_encryption_secrets_flag
  type: string
  description: Defines if Manage database encryption secret should be overriden with new values provided
  default: ""
- name: mas_app_settings_default_jms
  type: string
  description: Set true if you want to configure JMS queues. It is false by default.
  default: "" # default is handled by ansible-devops
- name: mas_manage_attachment_configuration_mode
  type: string
  description: Manage attachment configuration mode (cr or db)
  default: ""
- name: mas_manage_attachments_provider
  type: string
  description: Manage attachment provider (filestorage, ibm, aws)
  default: ""
- name: cos_bucket_name # cos_bucket_name in attachments role
  type: string
  description: COS Bucket optionally used to hold attachments in Manage
  default: ""

# MAS Application Configuration - IBM Maximo Location Services for ESRI
# -----------------------------------------------------------------------------
- name: install_arcgis
  type: string
  description: Flag to control whether to install IBM Maximo Location Services for ESRI
  default: ""
- name: mas_arcgis_channel
  type: string
  description: Default channel for IBM Maximo Location Services for ESRI 
  default: "" # default is handled by ansible-devops

# MAS Application Configuration - Health Application
- name: mas_appws_bindings_health_wsl_flag
  type: string
  description: Boolean value indicating if Watson Studio must installed and bound to Manage/Health.
  default: ""

# MAS Application Configuration - Optimizer Application
# -----------------------------------------------------------------------------
- name: mas_app_plan_optimizer
  type: string
  description: Configure install plan of Optimizer application (full or limited)
  default: full

# MAS Application Configuration - Predict
# -----------------------------------------------------------------------------
- name: predict_deployment_size
  type: string
  description: controls the workload size of predict containers
  default: "small"

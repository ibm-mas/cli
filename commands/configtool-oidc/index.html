<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://ibm-mas.github.io/cli/commands/configtool-oidc/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>configtool-oidc - MAS CLI</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "configtool-oidc";
        var mkdocs_page_input_path = "commands/configtool-oidc.md";
        var mkdocs_page_url = "/cli/commands/configtool-oidc/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> MAS CLI
        </a>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Guides</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../guides/choosing-the-right-catalog/">Choosing the Right Catalog</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../guides/image-mirroring/">Image Mirroring</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../guides/install/">Install</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../guides/update/">Update</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../guides/upgrade/">Upgrade</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../guides/uninstall/">Uninstall</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">OpenShift Management</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../provision-fyre/">provision-fyre</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../provision-roks/">provision-roks</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../provision-rosa/">provision-rosa</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../configure-airgap/">configure-airgap</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Image Mirroring</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../setup-registry/">setup-registry</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../teardown-registry/">teardown-registry</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../mirror-images/">mirror-images</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../mirror-redhat-images/">mirror-redhat-images</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">MAS Management</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">configtool-oidc</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#usage">Usage</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#cluster-credentials-required">Cluster Credentials (Required):</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#mas-oidc-information-required">MAS OIDC Information (Required):</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#examples">Examples</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#interactive-mode">Interactive Mode</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#non-interactive-mode">Non-Interactive Mode</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#appendix">Appendix</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#1-cluster-credentials">1. Cluster Credentials.</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#2-mas-oidc-information">2. MAS OIDC Information</a>
    </li>
        </ul>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../install/">install</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../update/">update</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../upgrade/">upgrade</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../uninstall/">uninstall</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Troubleshooting</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../must-gather/">must-gather</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Catalogs</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../catalogs/">All Catalogs</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../catalogs/v9-240730-amd64/">Jul 25 2024</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../catalogs/v9-240625-amd64/">Jun 25 2024</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../catalogs/v8-240528-amd64/">May 28 2024</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../catalogs/v8-240430-amd64/">Apr 30 2024</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Reference</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../reference/dependencies/">Dependencies</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../reference/topology/">Topology</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../reference/cluster-extensions/">Cluster Extensions</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">MAS CLI</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">MAS Management</li>
      <li class="breadcrumb-item active">configtool-oidc</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/ibm-mas/cli/blob/master/docs/commands/configtool-oidc.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="manage-openid-client-for-configuration-tool">Manage OpenID client for Configuration Tool<a class="headerlink" href="#manage-openid-client-for-configuration-tool" title="Permanent link"></a></h1>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link"></a></h2>
<p>Configuration Tool can be used to configure and customize MAS apps through OIDC authentication since MAS 8.10.<br />
This quick guide is as a reference for customer administrator to register/unregister/update OIDC client for this tool.  </p>
<h2 id="usage">Usage<a class="headerlink" href="#usage" title="Permanent link"></a></h2>
<p><code>mas oidc [register|unregister|update|-h|--help] [options]</code></p>
<h3 id="cluster-credentials-required">Cluster Credentials (Required):<a class="headerlink" href="#cluster-credentials-required" title="Permanent link"></a></h3>
<ul>
<li><code>-t|--token CLUSTER_TOKEN</code>                     Cluster's token</li>
<li><code>-s|--server CLUSTER_SERVER</code>                   Cluster server</li>
</ul>
<h3 id="mas-oidc-information-required">MAS OIDC Information (Required):<a class="headerlink" href="#mas-oidc-information-required" title="Permanent link"></a></h3>
<ul>
<li><code>-m|--mas-home MAS_HOME</code>                      MAS Home Url</li>
<li><code>-p|--ui-prefix TRUST_UI_PREFIX</code>              Trust UI prefix to receive OIDC callback</li>
<li><code>-i|--instance-id</code>                            MAS Instance id specified if not derived from MAS_HOME url (Optional)</li>
</ul>
<h2 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link"></a></h2>
<h3 id="interactive-mode">Interactive Mode<a class="headerlink" href="#interactive-mode" title="Permanent link"></a></h3>
<pre><code class="language-bash">docker run -ti --rm --pull always quay.io/ibmmas/cli mas oidc register
</code></pre>
<h3 id="non-interactive-mode">Non-Interactive Mode<a class="headerlink" href="#non-interactive-mode" title="Permanent link"></a></h3>
<pre><code class="language-bash">docker run -ti --rm --pull always quay.io/ibmmas/cli mas oidc register \
  -t sha256~dOnviPZtgCfJqUfUFLiSlsmXjzxtXpedhdxyXZ0F0X4 -s https://c118-e.us-south.containers.cloud.ibm.com:30221 \
  -m masdev.home.mobfound1.masdev.suite.maximo.com -p &quot;http://localhost:3000, http://localhost:3001&quot; -i &quot;mobfnd&quot;
</code></pre>
<pre><code class="language-bash">export CLUSTER_TOKEN=sha256~COA8-2Hd6G45rUN0HZLLh47sFByoX8QCC8j92jWB3to  
export CLUSTER_SERVER=https://c130-e.us-south.containers.cloud.ibm.com:32250
export MAS_HOME=masdev.home.mobfound1.masdev.suite.maximo.com  
export TRUST_UI_PREFIX=&quot;http://localhost:3000, http://localhost:3001&quot;
export MAS_INSTANCE_ID=mobfnd
docker run -ti --rm --pull always quay.io/ibmmas/cli mas oidc register \
  -t $CLUSTER_TOKEN -s $CLUSTER_SERVEr -m $MAS_HOME -p $TRUEST_UI_PREFIX -i $MAS_INSTANCE_ID
</code></pre>
<h2 id="appendix">Appendix<a class="headerlink" href="#appendix" title="Permanent link"></a></h2>
<h3 id="1-cluster-credentials">1. Cluster Credentials.<a class="headerlink" href="#1-cluster-credentials" title="Permanent link"></a></h3>
<p>Log in to your cluster with your IBMid by using the following method, browse to the OpenShift web console. 
From the dropdown menu in the upper right of the page, click Copy Login Command.<br />
example: <code>oc login --token=sha256~COA8-2Hd6G45rUN0HZLLh47sFByoX8QCC8j92jWB3to --server=https://c130-e.us-south.containers.cloud.ibm.com:32250</code>    </p>
<ul>
<li>CLUSTER_TOKEN=sha256~COA8-2Hd6G45rUN0HZLLh47sFByoX8QCC8j92jWB3to  </li>
<li>CLUSTER_SERVER=https://c130-e.us-south.containers.cloud.ibm.com:32250    </li>
</ul>
<h3 id="2-mas-oidc-information">2. MAS OIDC Information<a class="headerlink" href="#2-mas-oidc-information" title="Permanent link"></a></h3>
<ul>
<li>MAS_HOME=main.home.ivt15rel89.ivt.suite.maximo.com</li>
<li>TRUST_UI_PREFIX="http://localhost:3000, http://localhost:3001"</li>
<li>MAS_INSTANCE_ID=ivt15xx</li>
</ul>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/ibm-mas/cli" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../mirror-redhat-images/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../install/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>

# Manage Regression FVT
- name: fvt-manage-workorder # convention: use fvt-manage-<keyword>, as the value of fvt_test_suite parameter
  {{ lookup('template', 'taskdefs/fvt-apps/common/taskref-manage.yml.j2') | indent(2) }}
  params:
    {{ lookup('template', 'taskdefs/fvt-apps/common/params-manage.yml.j2') | indent(4) }}
    - name: fvt_test_suite
      value: workorder
  runAfter:
    - fvt-manage-setup # regression tasks depend on fvt-manage-setup or, eventually, any subsequent task in case of Manage Industry Solutions
 
# Manage Aviation FVT - Regression Lane 1 - Task 1
- name: fvt-manage-avi-reg1-1
  {{ lookup('template', 'taskdefs/fvt-apps/common/taskref-manage-multi-is.yml.j2') | indent(2) }}
  params:
    {{ lookup('template', 'taskdefs/fvt-apps/common/params-manage-multi-is.yml.j2') | indent(4) }}
    - name: fvt_image_namespace
      value: fvt-manage
    - name: fvt_image_name
      value: fvt-ibm-mas-manage-aviation
    - name: fvt_test_suite
      value: avi-reg1-1
    - name: fvt_mas_appws_component
      value: aviation
    - name: fvt_test_driver
      value: tpae
  runAfter:
    - fvt-manage-aviation

# Manage Aviation FVT - Regression Lane 2 - Task 1
- name: fvt-manage-avi-reg2-1
  {{ lookup('template', 'taskdefs/fvt-apps/common/taskref-manage-multi-is.yml.j2') | indent(2) }}
  params:
    {{ lookup('template', 'taskdefs/fvt-apps/common/params-manage-multi-is.yml.j2') | indent(4) }}
    - name: fvt_image_namespace
      value: fvt-manage
    - name: fvt_image_name
      value: fvt-ibm-mas-manage-aviation
    - name: fvt_test_suite
      value: avi-reg2-1
    - name: fvt_mas_appws_component
      value: aviation
    - name: fvt_test_driver
      value: tpae
  runAfter:
    - fvt-manage-aviation

# Manage Aviation FVT - Regression Lane 1 - Task 2
- name: fvt-manage-avi-reg1-2
  {{ lookup('template', 'taskdefs/fvt-apps/common/taskref-manage-multi-is.yml.j2') | indent(2) }}
  params:
    {{ lookup('template', 'taskdefs/fvt-apps/common/params-manage-multi-is.yml.j2') | indent(4) }}
    - name: fvt_image_namespace
      value: fvt-manage
    - name: fvt_image_name
      value: fvt-ibm-mas-manage-aviation
    - name: fvt_test_suite
      value: avi-reg1-2
    - name: fvt_mas_appws_component
      value: aviation
    - name: fvt_test_driver
      value: tpae  
  runAfter:
    - fvt-manage-avi-reg1-1

# Manage Aviation FVT - Regression Lane 2 - Task 2
- name: fvt-manage-avi-reg2-2
  {{ lookup('template', 'taskdefs/fvt-apps/common/taskref-manage-multi-is.yml.j2') | indent(2) }}
  params:
    {{ lookup('template', 'taskdefs/fvt-apps/common/params-manage-multi-is.yml.j2') | indent(4) }}
    - name: fvt_image_namespace
      value: fvt-manage
    - name: fvt_image_name
      value: fvt-ibm-mas-manage-aviation
    - name: fvt_test_suite
      value: avi-reg2-2
    - name: fvt_mas_appws_component
      value: aviation
    - name: fvt_test_driver
      value: tpae
  runAfter:
    - fvt-manage-avi-reg2-1

# Manage Aviation FVT - Regression Lane 1 - Task 3
- name: fvt-manage-avi-reg1-3
  {{ lookup('template', 'taskdefs/fvt-apps/common/taskref-manage-multi-is.yml.j2') | indent(2) }}
  params:
    {{ lookup('template', 'taskdefs/fvt-apps/common/params-manage-multi-is.yml.j2') | indent(4) }}
    - name: fvt_image_namespace
      value: fvt-manage
    - name: fvt_image_name
      value: fvt-ibm-mas-manage-aviation
    - name: fvt_test_suite
      value: avi-reg1-3
    - name: fvt_mas_appws_component
      value: aviation  
    - name: fvt_test_driver
      value: tpae  
  runAfter:
    - fvt-manage-avi-reg1-2

# Manage Aviation FVT - Regression Lane 2 - Task 3
- name: fvt-manage-avi-reg2-3
  {{ lookup('template', 'taskdefs/fvt-apps/common/taskref-manage-multi-is.yml.j2') | indent(2) }}
  params:
    {{ lookup('template', 'taskdefs/fvt-apps/common/params-manage-multi-is.yml.j2') | indent(4) }}
    - name: fvt_image_namespace
      value: fvt-manage
    - name: fvt_image_name
      value: fvt-ibm-mas-manage-aviation
    - name: fvt_test_suite
      value: avi-reg2-3
    - name: fvt_mas_appws_component
      value: aviation
    - name: fvt_test_driver
      value: tpae
  runAfter:
    - fvt-manage-avi-reg2-2

# Manage FVT - Scheduler
- name: fvt-manage-scheduler-reg1
  {{ lookup('template', 'taskdefs/fvt-apps/common/taskref-manage-multi-is.yml.j2') | indent(2) }}
  params:
    {{ lookup('template', 'taskdefs/fvt-apps/common/params-manage-multi-is.yml.j2') | indent(4) }}
    - name: fvt_image_namespace
      value: fvt-manage
    - name: fvt_image_name
      value: fvt-ibm-mas-manage-scheduler    
    - name: fvt_test_suite
      value: sched_fvt_reg1
    - name: fvt_mas_appws_component
      value: scheduler
    - name: fvt_test_driver
      value: tpae
  runAfter:
    - fvt-manage-scheduler-1

# Manage FVT - Scheduler
- name: fvt-manage-scheduler-reg2
  {{ lookup('template', 'taskdefs/fvt-apps/common/taskref-manage-multi-is.yml.j2') | indent(2) }}
  params:
    {{ lookup('template', 'taskdefs/fvt-apps/common/params-manage-multi-is.yml.j2') | indent(4) }}
    - name: fvt_image_namespace
      value: fvt-manage
    - name: fvt_image_name
      value: fvt-ibm-mas-manage-scheduler    
    - name: fvt_test_suite
      value: sched_fvt_reg2
    - name: fvt_mas_appws_component
      value: scheduler
    - name: fvt_test_driver
      value: tpae
  runAfter:
    - fvt-manage-scheduler-2

# Manage FVT - Scheduler
- name: fvt-manage-scheduler-reg3
  {{ lookup('template', 'taskdefs/fvt-apps/common/taskref-manage-multi-is.yml.j2') | indent(2) }}
  params:
    {{ lookup('template', 'taskdefs/fvt-apps/common/params-manage-multi-is.yml.j2') | indent(4) }}
    - name: fvt_image_namespace
      value: fvt-manage
    - name: fvt_image_name
      value: fvt-ibm-mas-manage-scheduler    
    - name: fvt_test_suite
      value: sched_fvt_reg3
    - name: fvt_mas_appws_component
      value: scheduler
    - name: fvt_test_driver
      value: tpae
  runAfter:
    - fvt-manage-scheduler-3

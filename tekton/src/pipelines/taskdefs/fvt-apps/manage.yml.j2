# Manage FVT
- name: fvt-manage-setup
  params:
    - name: mas_instance_id
      value: $(params.mas_instance_id)
    - name: mas_workspace_id
      value: $(params.mas_workspace_id)

    - name: devops_mongo_uri
      value: $(params.devops_mongo_uri)
    - name: devops_build_number
      value: $(params.devops_build_number)
    - name: devops_cos_crn
      value: $(params.devops_cos_crn)
    - name: ibmcloud_apikey
      value: $(params.ibmcloud_apikey)

    - name: fvt_image_registry
      value: $(params.fvt_image_registry)
    - name: fvt_image_namespace
      value: fvt-manage
    - name: fvt_image_name
      value: fvt-ibm-mas-manage
    - name: fvt_image_version
      value: $(params.fvt_version_manage)
    - name: fvt_test_suite
      value: setup # Keyword in Maximo Automation Framework terminology
    - name: product_channel
      value: $(params.mas_app_channel_manage)
    - name: product_id
      value: ibm-mas-manage
    - name: artifactory_apikey
      value: $(params.fvt_artifactory_apikey)
    
    - name: devops_test_type
      value: $(params.devops_test_type)
    - name: devops_test_phase
      value: $(params.devops_test_phase)
  taskRef:
    kind: Task
    name: mas-fvt-manage
  # Only if we've set a version of the Manage FVT to run
  when:
    - input: "$(params.fvt_version_manage)"
      operator: notin
      values: ["skip"]
    - input: "$(params.mas_app_channel_manage)"
      operator: notin
      values: [""]
  runAfter:
    - ivtcore-manage
  workspaces:
    - name: configs
      workspace: shared-configs

# Manage FVT - ACM Setup
- name: fvt-manage-acm-setup
  params:
    - name: mas_instance_id
      value: $(params.mas_instance_id)
    - name: mas_workspace_id
      value: $(params.mas_workspace_id)
    - name: devops_mongo_uri

      value: $(params.devops_mongo_uri)
    - name: devops_build_number
      value: $(params.devops_build_number)
    - name: devops_cos_crn
      value: $(params.devops_cos_crn)
    - name: ibmcloud_apikey
      value: $(params.ibmcloud_apikey)

    - name: fvt_image_registry
      value: $(params.fvt_image_registry)
    - name: fvt_image_namespace
      value: fvt-manage
    - name: fvt_image_name
      value: fvt-ibm-mas-manage-acm
    - name: fvt_image_version
      value: $(params.fvt_version_manage_acm)
    - name: fvt_test_suite
      value: fvt-acm-setup # Keyword for ACM FVT Setup
    - name: product_channel
      value: $(params.mas_app_channel_manage)
    - name: product_id
      value: ibm-mas-manage
    - name: artifactory_apikey
      value: $(params.fvt_artifactory_apikey)

    - name: test_type
      value: $(params.test_type)
    - name: test_phase
      value: $(params.test_phase)
  taskRef:
    kind: Task
    name: mas-fvt-manage
  # Only if we've set a version of the Manage ACM FVT to run
  when:
    - input: "$(params.fvt_version_manage_acm)"
      operator: notin
      values: ["skip"]
    - input: "$(params.mas_app_channel_manage)"
      operator: notin
      values: [""]
  runAfter:
    - fvt-manage-setup
  workspaces:
    - name: configs
      workspace: shared-configs   

# Manage FVT - ACM
- name: fvt-manage-acm
  params:
    - name: mas_instance_id
      value: $(params.mas_instance_id)
    - name: mas_workspace_id
      value: $(params.mas_workspace_id)

    - name: devops_mongo_uri
      value: $(params.devops_mongo_uri)
    - name: devops_build_number
      value: $(params.devops_build_number)
    - name: devops_cos_crn
      value: $(params.devops_cos_crn)
    - name: ibmcloud_apikey
      value: $(params.ibmcloud_apikey)

    - name: fvt_image_registry
      value: $(params.fvt_image_registry)
    - name: fvt_image_namespace
      value: fvt-manage
    - name: fvt_image_name
      value: fvt-ibm-mas-manage-acm
    - name: fvt_image_version
      value: $(params.fvt_version_manage_acm)
    - name: fvt_test_suite
      value: fvt-acm # Keyword for ACM FVT
    - name: product_channel
      value: $(params.mas_app_channel_manage)
    - name: product_id
      value: ibm-mas-manage
    - name: artifactory_apikey
      value: $(params.fvt_artifactory_apikey)

    - name: devops_test_type
      value: $(params.devops_test_type)
    - name: devops_test_phase
      value: $(params.devops_test_phase)
  taskRef:
    kind: Task
    name: mas-fvt-manage
  # Only if we've set a version of the Manage ACM FVT to run
  when:
    - input: "$(params.fvt_version_manage_acm)"
      operator: notin
      values: ["skip"]
    - input: "$(params.mas_app_channel_manage)"
      operator: notin
      values: [""]
  runAfter:
    - fvt-manage-acm-setup
  workspaces:
    - name: configs
      workspace: shared-configs

# Manage FVT - Aviation Setup
- name: fvt-manage-aviation-setup
  params:
    - name: mas_instance_id
      value: $(params.mas_instance_id)
    - name: mas_workspace_id
      value: $(params.mas_workspace_id)

    - name: devops_mongo_uri
      value: $(params.devops_mongo_uri)
    - name: devops_build_number
      value: $(params.devops_build_number)
    - name: devops_cos_crn
      value: $(params.devops_cos_crn)
    - name: ibmcloud_apikey
      value: $(params.ibmcloud_apikey)

    - name: fvt_image_registry
      value: $(params.fvt_image_registry)
    - name: fvt_image_namespace
      value: fvt-manage
    - name: fvt_image_name
      value: fvt-ibm-mas-manage-aviation
    - name: fvt_image_version
      value: $(params.fvt_version_manage_aviation)
    - name: fvt_test_suite
      value: mfa-setup # Keyword for Aviation FVT Setup
    - name: product_channel
      value: $(params.mas_app_channel_manage)
    - name: product_id
      value: ibm-mas-manage
    - name: artifactory_apikey
      value: $(params.fvt_artifactory_apikey)
    
    - name: test_type
      value: $(params.test_type)
    - name: test_phase
      value: $(params.test_phase)
  taskRef:
    kind: Task
    name: mas-fvt-run-suite
  # Only if we've set a version of the Manage Aviation FVT to run
  when:
    - input: "$(params.fvt_version_manage_aviation)"
      operator: notin
      values: ["skip"]
    - input: "$(params.mas_app_channel_manage)"
      operator: notin
      values: [""]
  runAfter:
    - fvt-manage-setup
  workspaces:
    - name: configs
      workspace: shared-configs

# Manage FVT - Aviation
- name: fvt-manage-aviation
  params:
    - name: mas_instance_id
      value: $(params.mas_instance_id)
    - name: mas_workspace_id
      value: $(params.mas_workspace_id)

    - name: devops_mongo_uri
      value: $(params.devops_mongo_uri)
    - name: devops_build_number
      value: $(params.devops_build_number)
    - name: devops_cos_crn
      value: $(params.devops_cos_crn)
    - name: ibmcloud_apikey
      value: $(params.ibmcloud_apikey)

    - name: fvt_image_registry
      value: $(params.fvt_image_registry)
    - name: fvt_image_namespace
      value: fvt-manage
    - name: fvt_image_name
      value: fvt-ibm-mas-manage-aviation
    - name: fvt_image_version
      value: $(params.fvt_version_manage_aviation)
    - name: fvt_test_suite
      value: fvt-mfa # Keyword for Aviation FVT
    - name: product_channel
      value: $(params.mas_app_channel_manage)
    - name: product_id
      value: ibm-mas-manage
    - name: artifactory_apikey
      value: $(params.fvt_artifactory_apikey)
    
    - name: devops_test_type
      value: $(params.devops_test_type)
    - name: devops_test_phase
      value: $(params.devops_test_phase)
  taskRef:
    kind: Task
    name: mas-fvt-manage
  # Only if we've set a version of the Manage Aviation FVT to run
  when:
    - input: "$(params.fvt_version_manage_aviation)"
      operator: notin
      values: ["skip"]
    - input: "$(params.mas_app_channel_manage)"
      operator: notin
      values: [""]
  runAfter:
    - fvt-manage-aviation-setup
  workspaces:
    - name: configs
      workspace: shared-configs

# Manage FVT - HSE Setup
- name: fvt-manage-hse-setup
  params:
    - name: mas_instance_id
      value: $(params.mas_instance_id)
    - name: mas_workspace_id
      value: $(params.mas_workspace_id)

    - name: devops_mongo_uri
      value: $(params.devops_mongo_uri)
    - name: devops_build_number
      value: $(params.devops_build_number)
    - name: devops_cos_crn
      value: $(params.devops_cos_crn)
    - name: ibmcloud_apikey
      value: $(params.ibmcloud_apikey)

    - name: fvt_image_registry
      value: $(params.fvt_image_registry)
    - name: fvt_image_namespace
      value: fvt-manage
    - name: fvt_image_name
      value: fvt-ibm-mas-manage-hse
    - name: fvt_image_version
      value: $(params.fvt_version_manage_hse)
    - name: fvt_test_suite
      value: hse-setup # Keyword for HSE FVT
    - name: product_channel
      value: $(params.mas_app_channel_manage)
    - name: product_id
      value: ibm-mas-manage
    - name: artifactory_apikey
      value: $(params.fvt_artifactory_apikey)
    
    - name: test_type
      value: $(params.test_type)
    - name: test_phase
      value: $(params.test_phase)
  taskRef:
    kind: Task
    name: mas-fvt-run-suite
  # Only if we've set a version of the Manage HSE FVT to run
  when:
    - input: "$(params.fvt_version_manage_hse)"
      operator: notin
      values: ["skip"]
    - input: "$(params.mas_app_channel_manage)"
      operator: notin
      values: [""]
  runAfter:
    - fvt-manage-setup
  workspaces:
    - name: configs
      workspace: shared-configs

# Manage FVT - HSE
- name: fvt-manage-hse
  params:
    - name: mas_instance_id
      value: $(params.mas_instance_id)
    - name: mas_workspace_id
      value: $(params.mas_workspace_id)

    - name: devops_mongo_uri
      value: $(params.devops_mongo_uri)
    - name: devops_build_number
      value: $(params.devops_build_number)
    - name: devops_cos_crn
      value: $(params.devops_cos_crn)
    - name: ibmcloud_apikey
      value: $(params.ibmcloud_apikey)

    - name: fvt_image_registry
      value: $(params.fvt_image_registry)
    - name: fvt_image_namespace
      value: fvt-manage
    - name: fvt_image_name
      value: fvt-ibm-mas-manage-hse
    - name: fvt_image_version
      value: $(params.fvt_version_manage_hse)
    - name: fvt_test_suite
      value: fvt-hse # Keyword for HSE FVT
    - name: product_channel
      value: $(params.mas_app_channel_manage)
    - name: product_id
      value: ibm-mas-manage
    - name: artifactory_apikey
      value: $(params.fvt_artifactory_apikey)
    
    - name: devops_test_type
      value: $(params.devops_test_type)
    - name: devops_test_phase
      value: $(params.devops_test_phase)
  taskRef:
    kind: Task
    name: mas-fvt-manage
  # Only if we've set a version of the Manage HSE FVT to run
  when:
    - input: "$(params.fvt_version_manage_hse)"
      operator: notin
      values: ["skip"]
    - input: "$(params.mas_app_channel_manage)"
      operator: notin
      values: [""]
  runAfter:
    - fvt-manage-hse-setup
  workspaces:
    - name: configs
      workspace: shared-configs

# Manage FVT - Nuclear
- name: fvt-manage-nuclear-setup
  params:
    - name: mas_instance_id
      value: $(params.mas_instance_id)
    - name: mas_workspace_id
      value: $(params.mas_workspace_id)

    - name: devops_mongo_uri
      value: $(params.devops_mongo_uri)
    - name: devops_build_number
      value: $(params.devops_build_number)
    - name: devops_cos_crn
      value: $(params.devops_cos_crn)
    - name: ibmcloud_apikey
      value: $(params.ibmcloud_apikey)

    - name: fvt_image_registry
      value: $(params.fvt_image_registry)
    - name: fvt_image_namespace
      value: fvt-manage
    - name: fvt_image_name
      value: fvt-ibm-mas-manage-nuclear
    - name: fvt_image_version
      value: $(params.fvt_version_manage_nuclear)
    - name: fvt_test_suite
      value: nuc-setup # Keyword for Nuclear FVT
    - name: product_channel
      value: $(params.mas_app_channel_manage)
    - name: product_id
      value: ibm-mas-manage
    - name: artifactory_apikey
      value: $(params.fvt_artifactory_apikey)
    
    - name: test_type
      value: $(params.test_type)
    - name: test_phase
      value: $(params.test_phase)
  taskRef:
    kind: Task
    name: mas-fvt-run-suite
  # Only if we've set a version of the Manage Nuclear FVT to run
  when:
    - input: "$(params.fvt_version_manage_nuclear)"
      operator: notin
      values: ["skip"]
    - input: "$(params.mas_app_channel_manage)"
      operator: notin
      values: [""]
  runAfter:
    - fvt-manage-setup
  workspaces:
    - name: configs
      workspace: shared-configs

# Manage FVT - Nuclear
- name: fvt-manage-nuclear
  params:
    - name: mas_instance_id
      value: $(params.mas_instance_id)
    - name: mas_workspace_id
      value: $(params.mas_workspace_id)

    - name: devops_mongo_uri
      value: $(params.devops_mongo_uri)
    - name: devops_build_number
      value: $(params.devops_build_number)
    - name: devops_cos_crn
      value: $(params.devops_cos_crn)
    - name: ibmcloud_apikey
      value: $(params.ibmcloud_apikey)

    - name: fvt_image_registry
      value: $(params.fvt_image_registry)
    - name: fvt_image_namespace
      value: fvt-manage
    - name: fvt_image_name
      value: fvt-ibm-mas-manage-nuclear
    - name: fvt_image_version
      value: $(params.fvt_version_manage_nuclear)
    - name: fvt_test_suite
      value: fvt-nuc # Keyword for Nuclear FVT
    - name: product_channel
      value: $(params.mas_app_channel_manage)
    - name: product_id
      value: ibm-mas-manage
    - name: artifactory_apikey
      value: $(params.fvt_artifactory_apikey)
    
    - name: devops_test_type
      value: $(params.devops_test_type)
    - name: devops_test_phase
      value: $(params.devops_test_phase)
  taskRef:
    kind: Task
    name: mas-fvt-manage
  # Only if we've set a version of the Manage Nuclear FVT to run
  when:
    - input: "$(params.fvt_version_manage_nuclear)"
      operator: notin
      values: ["skip"]
    - input: "$(params.mas_app_channel_manage)"
      operator: notin
      values: [""]
  runAfter:
    - fvt-manage-nuclear-setup
  workspaces:
    - name: configs
      workspace: shared-configs

# Manage FVT - Service Provider Setup
- name: fvt-manage-serviceprovider-setup
  params:
    - name: mas_instance_id
      value: $(params.mas_instance_id)
    - name: mas_workspace_id
      value: $(params.mas_workspace_id)
    
    - name: devops_mongo_uri
      value: $(params.devops_mongo_uri)
    - name: devops_build_number
      value: $(params.devops_build_number)
    - name: devops_cos_crn
      value: $(params.devops_cos_crn)
    - name: ibmcloud_apikey
      value: $(params.ibmcloud_apikey)

    - name: fvt_image_registry
      value: $(params.fvt_image_registry)
    - name: fvt_image_namespace
      value: fvt-manage
    - name: fvt_image_name
      value: fvt-ibm-mas-manage-service-provider
    - name: fvt_image_version
      value: $(params.fvt_version_manage_serviceprovider)
    - name: fvt_test_suite
      value: fvt-sp-setup # Keyword for Service Provider FVT Setup
    - name: product_channel
      value: $(params.mas_app_channel_manage)
    - name: product_id
      value: ibm-mas-manage
    - name: artifactory_apikey
      value: $(params.fvt_artifactory_apikey)

    - name: test_type
      value: $(params.test_type)
    - name: test_phase
      value: $(params.test_phase)  
  taskRef:
    kind: Task
    name: mas-fvt-manage
  # Only if we've set a version of the Manage Service Provider FVT to run
  when:
    - input: "$(params.fvt_version_manage_serviceprovider)"
      operator: notin
      values: ["skip"]
    - input: "$(params.mas_app_channel_manage)"
      operator: notin
      values: [""]
  runAfter:
    - fvt-manage-setup
  workspaces:
    - name: configs
      workspace: shared-configs

# Manage FVT - Service Provider
- name: fvt-manage-serviceprovider
  params:
    - name: mas_instance_id
      value: $(params.mas_instance_id)
    - name: mas_workspace_id
      value: $(params.mas_workspace_id)

    - name: devops_mongo_uri
      value: $(params.devops_mongo_uri)
    - name: devops_build_number
      value: $(params.devops_build_number)
    - name: devops_cos_crn
      value: $(params.devops_cos_crn)
    - name: ibmcloud_apikey
      value: $(params.ibmcloud_apikey)

    - name: fvt_image_registry
      value: $(params.fvt_image_registry)
    - name: fvt_image_namespace
      value: fvt-manage
    - name: fvt_image_name
      value: fvt-ibm-mas-manage-service-provider
    - name: fvt_image_version
      value: $(params.fvt_version_manage_serviceprovider)
    - name: fvt_test_suite
      value: fvt-sp # Keyword for Service Provider FVT
    - name: product_channel
      value: $(params.mas_app_channel_manage)
    - name: product_id
      value: ibm-mas-manage
    - name: artifactory_apikey
      value: $(params.fvt_artifactory_apikey)
    
    - name: devops_test_type
      value: $(params.devops_test_type)
    - name: devops_test_phase
      value: $(params.devops_test_phase)
  taskRef:
    kind: Task
    name: mas-fvt-manage
  # Only if we've set a version of the Manage Service Provider FVT to run
  when:
    - input: "$(params.fvt_version_manage_serviceprovider)"
      operator: notin
      values: ["skip"]
    - input: "$(params.mas_app_channel_manage)"
      operator: notin
      values: [""]
  runAfter:
    - fvt-manage-serviceprovider-setup
  workspaces:
    - name: configs
      workspace: shared-configs

# Manage FVT - Location Base Services - Setup
- name: fvt-manage-lbs-setup
  params:
    - name: mas_instance_id
      value: $(params.mas_instance_id)
    - name: mas_workspace_id
      value: $(params.mas_workspace_id)

    - name: devops_mongo_uri
      value: $(params.devops_mongo_uri)
    - name: devops_build_number
      value: $(params.devops_build_number)
    - name: devops_cos_crn
      value: $(params.devops_cos_crn)
    - name: ibmcloud_apikey
      value: $(params.ibmcloud_apikey)

    - name: fvt_image_registry
      value: $(params.fvt_image_registry)
    - name: fvt_image_namespace
      value: fvt-manage
    - name: fvt_image_name
      value: fvt-ibm-mas-manage-spatial
    - name: fvt_image_version
      value: $(params.fvt_version_manage_spatial)
    - name: fvt_test_suite
      value: lbs-setup # Keyword for Spatial FVT
    - name: product_channel
      value: $(params.mas_app_channel_manage)
    - name: product_id
      value: ibm-mas-manage
    - name: artifactory_apikey
      value: $(params.fvt_artifactory_apikey)
    
    - name: devops_test_type
      value: $(params.devops_test_type)
    - name: devops_test_phase
      value: $(params.devops_test_phase)
  taskRef:
    kind: Task
    name: mas-fvt-manage
  # Only if we've set a version of the Manage Spatial FVT to run
  when:
    - input: "$(params.fvt_version_manage_spatial)"
      operator: notin
      values: ["skip"]
    - input: "$(params.mas_app_channel_manage)"
      operator: notin
      values: [""]
  runAfter:
    - fvt-manage-setup
  workspaces:
    - name: configs
      workspace: shared-configs

# Manage FVT - Spatial
- name: fvt-manage-spatial
  params:
    - name: mas_instance_id
      value: $(params.mas_instance_id)
    - name: mas_workspace_id
      value: $(params.mas_workspace_id)

    - name: devops_mongo_uri
      value: $(params.devops_mongo_uri)
    - name: devops_build_number
      value: $(params.devops_build_number)
    - name: devops_cos_crn
      value: $(params.devops_cos_crn)
    - name: ibmcloud_apikey
      value: $(params.ibmcloud_apikey)

    - name: fvt_image_registry
      value: $(params.fvt_image_registry)
    - name: fvt_image_namespace
      value: fvt-manage
    - name: fvt_image_name
      value: fvt-ibm-mas-manage-spatial
    - name: fvt_image_version
      value: $(params.fvt_version_manage_spatial)
    - name: fvt_test_suite
      value: fvt-manage-spatial # Keyword for Spatial FVT
    - name: product_channel
      value: $(params.mas_app_channel_manage)
    - name: product_id
      value: ibm-mas-manage
    - name: artifactory_apikey
      value: $(params.fvt_artifactory_apikey)
    
    - name: test_type
      value: $(params.test_type)
    - name: test_phase
      value: $(params.test_phase)
  taskRef:
    kind: Task
    name: mas-fvt-run-suite
  # Only if we've set a version of the Manage Spatial FVT to run
  when:
    - input: "$(params.fvt_version_manage_spatial)"
      operator: notin
      values: ["skip"]
    - input: "$(params.mas_app_channel_manage)"
      operator: notin
      values: [""]
  runAfter:
    - fvt-manage-lbs-setup
  workspaces:
    - name: configs
      workspace: shared-configs

# Manage FVT - Utilities
- name: fvt-manage-utilities
  params:
    - name: mas_instance_id
      value: $(params.mas_instance_id)
    - name: mas_workspace_id
      value: $(params.mas_workspace_id)

    - name: devops_mongo_uri
      value: $(params.devops_mongo_uri)
    - name: devops_build_number
      value: $(params.devops_build_number)
    - name: devops_cos_crn
      value: $(params.devops_cos_crn)
    - name: ibmcloud_apikey
      value: $(params.ibmcloud_apikey)

    - name: fvt_image_registry
      value: $(params.fvt_image_registry)
    - name: fvt_image_namespace
      value: fvt-manage
    - name: fvt_image_name
      value: fvt-ibm-mas-manage-spatial
    - name: fvt_image_version
      value: $(params.fvt_version_manage_spatial)
    - name: fvt_test_suite
      value: fvt-manage-utilities # Keyword for Utilities FVT
    - name: product_channel
      value: $(params.mas_app_channel_manage)
    - name: product_id
      value: ibm-mas-manage
    - name: artifactory_apikey
      value: $(params.fvt_artifactory_apikey)
    
    - name: test_type
      value: $(params.test_type)
    - name: test_phase
      value: $(params.test_phase)
  taskRef:
    kind: Task
    name: mas-fvt-run-suite
  # Only if we've set a version of the Manage Spatial FVT to run
  when:
    - input: "$(params.fvt_version_manage_spatial)"
      operator: notin
      values: ["skip"]
    - input: "$(params.mas_app_channel_manage)"
      operator: notin
      values: [""]
  runAfter:
    - fvt-manage-lbs-setup
  workspaces:
    - name: configs
      workspace: shared-configs

# Manage FVT - Linear
- name: fvt-manage-linear
  params:
    - name: mas_instance_id
      value: $(params.mas_instance_id)
    - name: mas_workspace_id
      value: $(params.mas_workspace_id)

    - name: devops_mongo_uri
      value: $(params.devops_mongo_uri)
    - name: devops_build_number
      value: $(params.devops_build_number)
    - name: devops_cos_crn
      value: $(params.devops_cos_crn)
    - name: ibmcloud_apikey
      value: $(params.ibmcloud_apikey)

    - name: fvt_image_registry
      value: $(params.fvt_image_registry)
    - name: fvt_image_namespace
      value: fvt-manage
    - name: fvt_image_name
      value: fvt-ibm-mas-manage-spatial
    - name: fvt_image_version
      value: $(params.fvt_version_manage_spatial)
    - name: fvt_test_suite
      value: fvt-manage-linear # Keyword for Utilities FVT
    - name: product_channel
      value: $(params.mas_app_channel_manage)
    - name: product_id
      value: ibm-mas-manage
    - name: artifactory_apikey
      value: $(params.fvt_artifactory_apikey)
    
    - name: test_type
      value: $(params.test_type)
    - name: test_phase
      value: $(params.test_phase)
  taskRef:
    kind: Task
    name: mas-fvt-run-suite
  # Only if we've set a version of the Manage Spatial FVT to run
  when:
    - input: "$(params.fvt_version_manage_spatial)"
      operator: notin
      values: ["skip"]
    - input: "$(params.mas_app_channel_manage)"
      operator: notin
      values: [""]
  runAfter:
    - fvt-manage-lbs-setup
  workspaces:
    - name: configs
      workspace: shared-configs

# Manage FVT - Transportation Setup
- name: fvt-manage-transportation-setup
  params:
    - name: mas_instance_id
      value: $(params.mas_instance_id)
    - name: mas_workspace_id
      value: $(params.mas_workspace_id)

    - name: devops_mongo_uri
      value: $(params.devops_mongo_uri)
    - name: devops_build_number
      value: $(params.devops_build_number)
    - name: devops_cos_crn
      value: $(params.devops_cos_crn)
    - name: ibmcloud_apikey
      value: $(params.ibmcloud_apikey)

    - name: fvt_image_registry
      value: $(params.fvt_image_registry)
    - name: fvt_image_namespace
      value: fvt-manage
    - name: fvt_image_name
      value: fvt-ibm-mas-manage-transportation
    - name: fvt_image_version
      value: $(params.fvt_version_manage_transportation)
    - name: fvt_test_suite
      value: fvt-tr-setup # Keyword for Transportation FVT Setup
    - name: product_channel
      value: $(params.mas_app_channel_manage)
    - name: product_id
      value: ibm-mas-manage
    - name: artifactory_apikey
      value: $(params.fvt_artifactory_apikey)
    
    - name: test_type
      value: $(params.test_type)
    - name: test_phase
      value: $(params.test_phase)
  taskRef:
    kind: Task
    name: mas-fvt-manage
  # Only if we've set a version of the Manage Transportation FVT to run
  when:
    - input: "$(params.fvt_version_manage_transportation)"
      operator: notin
      values: ["skip"]
    - input: "$(params.mas_app_channel_manage)"
      operator: notin
      values: [""]
  runAfter:
    - fvt-manage-setup
  workspaces:
    - name: configs
      workspace: shared-configs

# Manage FVT - Transportation
- name: fvt-manage-transportation
  params:
    - name: mas_instance_id
      value: $(params.mas_instance_id)
    - name: mas_workspace_id
      value: $(params.mas_workspace_id)

    - name: devops_mongo_uri
      value: $(params.devops_mongo_uri)
    - name: devops_build_number
      value: $(params.devops_build_number)
    - name: devops_cos_crn
      value: $(params.devops_cos_crn)
    - name: ibmcloud_apikey
      value: $(params.ibmcloud_apikey)

    - name: fvt_image_registry
      value: $(params.fvt_image_registry)
    - name: fvt_image_namespace
      value: fvt-manage
    - name: fvt_image_name
      value: fvt-ibm-mas-manage-transportation
    - name: fvt_image_version
      value: $(params.fvt_version_manage_transportation)
    - name: fvt_test_suite
      value: fvt-tr # Keyword for Transportation FVT
    - name: product_channel
      value: $(params.mas_app_channel_manage)
    - name: product_id
      value: ibm-mas-manage
    - name: artifactory_apikey
      value: $(params.fvt_artifactory_apikey)
    
    - name: devops_test_type
      value: $(params.devops_test_type)
    - name: devops_test_phase
      value: $(params.devops_test_phase)
  taskRef:
    kind: Task
    name: mas-fvt-manage
  # Only if we've set a version of the Manage Transportation FVT to run
  when:
    - input: "$(params.fvt_version_manage_transportation)"
      operator: notin
      values: ["skip"]
    - input: "$(params.mas_app_channel_manage)"
      operator: notin
      values: [""]
  runAfter:
    - fvt-manage-transportation-setup
  workspaces:
    - name: configs
      workspace: shared-configs

# Manage FVT - Civil Infrastructure Selenium - Setup
- name: fvt-manage-civil-selenium-setup
  params:
    - name: mas_instance_id
      value: $(params.mas_instance_id)
    - name: mas_workspace_id
      value: $(params.mas_workspace_id)

    - name: devops_mongo_uri
      value: $(params.devops_mongo_uri)
    - name: devops_build_number
      value: $(params.devops_build_number)
    - name: devops_cos_crn
      value: $(params.devops_cos_crn)
    - name: ibmcloud_apikey
      value: $(params.ibmcloud_apikey)

    - name: fvt_image_registry
      value: $(params.fvt_image_registry)
    - name: fvt_image_namespace
      value: fvt-civil
    - name: fvt_image_name
      value: fvt-ibm-mas-manage-civil-selenium
    - name: fvt_image_version
      value: $(params.fvt_version_manage_civil_selenium)
    - name: fvt_test_suite
      value: fvt-ci-setup # Civil Selenium Setup keyword
    - name: product_channel
      value: $(params.mas_app_channel_manage)
    - name: product_id
      value: ibm-mas-manage
    - name: artifactory_apikey
      value: $(params.fvt_artifactory_apikey)

    - name: test_type
      value: $(params.test_type)
    - name: test_phase
      value: $(params.test_phase)
  taskRef:
    kind: Task
    name: mas-fvt-run-suite
  # Only if we've set a version of Civil FVT to run
  when:
    - input: "$(params.fvt_version_manage_civil_selenium)"
      operator: notin
      values: ["skip"]
    - input: "$(params.mas_app_channel_manage)"
      operator: notin
      values: [""]
  runAfter:
    - fvt-manage-setup
  workspaces:
    - name: configs
      workspace: shared-configs

# Manage FVT - Civil Infrastructure Selenium
- name: fvt-manage-civil-selenium
  params:
    - name: mas_instance_id
      value: $(params.mas_instance_id)
    - name: mas_workspace_id
      value: $(params.mas_workspace_id)

    - name: devops_mongo_uri
      value: $(params.devops_mongo_uri)
    - name: devops_build_number
      value: $(params.devops_build_number)
    - name: devops_cos_crn
      value: $(params.devops_cos_crn)
    - name: ibmcloud_apikey
      value: $(params.ibmcloud_apikey)

    - name: fvt_image_registry
      value: $(params.fvt_image_registry)
    - name: fvt_image_namespace
      value: fvt-civil
    - name: fvt_image_name
      value: fvt-ibm-mas-manage-civil-selenium
    - name: fvt_image_version
      value: $(params.fvt_version_manage_civil_selenium)
    - name: fvt_test_suite
      value: cibvt # Civil Selenium keyword
    - name: product_channel
      value: $(params.mas_app_channel_manage)
    - name: product_id
      value: ibm-mas-manage
    - name: artifactory_apikey
      value: $(params.fvt_artifactory_apikey)

    - name: test_type
      value: $(params.test_type)
    - name: test_phase
      value: $(params.test_phase)
  taskRef:
    kind: Task
    name: mas-fvt-manage
  # Only if we've set a version of Civil FVT to run
  when:
    - input: "$(params.fvt_version_manage_civil_selenium)"
      operator: notin
      values: ["skip"]
    - input: "$(params.mas_app_channel_manage)"
      operator: notin
      values: [""]
  runAfter:
    - fvt-manage-civil-selenium-setup
  workspaces:
    - name: configs
      workspace: shared-configs

# Manage FVT - Civil Infrastructure Cypress
- name: fvt-manage-civil-cypress
  params:
    - name: mas_instance_id
      value: $(params.mas_instance_id)
    - name: mas_workspace_id
      value: $(params.mas_workspace_id)

    - name: devops_mongo_uri
      value: $(params.devops_mongo_uri)
    - name: devops_build_number
      value: $(params.devops_build_number)
    - name: devops_cos_crn
      value: $(params.devops_cos_crn)
    - name: ibmcloud_apikey
      value: $(params.ibmcloud_apikey)

    - name: fvt_image_registry
      value: $(params.fvt_image_registry)
    - name: fvt_image_namespace
      value: fvt-civil
    - name: fvt_image_name
      value: fvt-ibm-mas-manage-civil-cypress
    - name: fvt_image_version
      value: $(params.fvt_version_manage_civil_cypress)
    - name: fvt_test_suite
      value: web-mas-civil # display purposes only, not a keyword
    - name: product_channel
      value: $(params.mas_app_channel_manage)
    - name: product_id
      value: ibm-mas-manage
    - name: artifactory_apikey
      value: $(params.fvt_artifactory_apikey)
    
    - name: devops_test_type
      value: $(params.devops_test_type)
    - name: devops_test_phase
      value: $(params.devops_test_phase)
  taskRef:
    kind: Task
    name: mas-fvt-manage
  # Only if we've set a version of Civil FVT to run
  when:
    - input: "$(params.fvt_version_manage_civil_cypress)"
      operator: notin
      values: ["skip"]
    - input: "$(params.mas_app_channel_manage)"
      operator: notin
      values: [""]
  runAfter:
    - fvt-manage-civil-selenium
  workspaces:
    - name: configs
      workspace: shared-configs

# Manage FVT - IC Setup
- name: fvt-manage-ic-setup
  params:
    - name: mas_instance_id
      value: $(params.mas_instance_id)
    - name: mas_workspace_id
      value: $(params.mas_workspace_id)

    - name: devops_mongo_uri
      value: $(params.devops_mongo_uri)
    - name: devops_build_number
      value: $(params.devops_build_number)
    - name: devops_cos_crn
      value: $(params.devops_cos_crn)
    - name: ibmcloud_apikey
      value: $(params.ibmcloud_apikey)

    - name: fvt_image_registry
      value: $(params.fvt_image_registry)
    - name: fvt_image_namespace
      value: fvt-manage
    - name: fvt_image_name
      value: fvt-ibm-mas-manage-ic
    - name: fvt_image_version
      value: $(params.fvt_version_manage_ic)
    - name: fvt_test_suite
      value: setup4ic # Keyword for IC setup
    - name: product_channel
      value: $(params.mas_app_channel_manage)
    - name: product_id
      value: ibm-mas-manage
    - name: artifactory_apikey
      value: $(params.fvt_artifactory_apikey)
    
    - name: devops_test_type
      value: $(params.devops_test_type)
    - name: devops_test_phase
      value: $(params.devops_test_phase)
  taskRef:
    kind: Task
    name: mas-fvt-manage
  # Only if we've set a version of the IC FVT to run
  when:
    - input: "$(params.fvt_version_manage_ic)"
      operator: notin
      values: ["skip"]
    - input: "$(params.mas_app_channel_manage)"
      operator: notin
      values: [""]
  runAfter:
    - fvt-manage-setup
  workspaces:
    - name: configs
      workspace: shared-configs

# Mobile FVT - Inventory Counting
- name: fvt-mobile-inventorycounting
  params:
    - name: mas_instance_id
      value: $(params.mas_instance_id)
    - name: mas_workspace_id
      value: $(params.mas_workspace_id)

    - name: devops_mongo_uri
      value: $(params.devops_mongo_uri)
    - name: devops_build_number
      value: $(params.devops_build_number)
    - name: devops_cos_crn
      value: $(params.devops_cos_crn)
    - name: ibmcloud_apikey
      value: $(params.ibmcloud_apikey)

    - name: fvt_image_registry
      value: $(params.fvt_image_registry)
    - name: fvt_image_namespace
      value: fvt-inventorycounting
    - name: fvt_image_name
      value: fvt-inventorycounting-testng
    - name: fvt_image_version
      value: $(params.fvt_version_mobileic)
    - name: fvt_test_suite
      value: prepare-test-data-testng-mas # xml for Mobile IC
    - name: product_channel
      value: $(params.mas_app_channel_manage)
    - name: product_id
      value: ibm-mas-manage
    - name: artifactory_apikey
      value: $(params.fvt_artifactory_apikey)

    - name: test_type
      value: $(params.test_type)
    - name: test_phase
      value: $(params.test_phase)
  taskRef:
    kind: Task
    name: mas-fvt-manage
  # Only if we've set a version of the Mobile IC FVT to run
  when:
    - input: "$(params.fvt_version_mobileic)"
      operator: notin
      values: ["skip"]
    - input: "$(params.mas_app_channel_manage)"
      operator: notin
      values: [""]
  runAfter:
    - fvt-manage-ic-setup
  workspaces:
    - name: configs
      workspace: shared-configs

# FVT6.12.1 Manage FVT - Scheduler Setup
- name: fvt-manage-scheduler-setup
  params:
    - name: mas_instance_id
      value: $(params.mas_instance_id)
    - name: mas_workspace_id
      value: $(params.mas_workspace_id)

    - name: devops_mongo_uri
      value: $(params.devops_mongo_uri)
    - name: devops_build_number
      value: $(params.devops_build_number)
    - name: devops_cos_crn
      value: $(params.devops_cos_crn)
    - name: ibmcloud_apikey
      value: $(params.ibmcloud_apikey)
    
    - name: fvt_image_registry
      value: $(params.fvt_image_registry)
    - name: fvt_image_namespace
      value: fvt-manage
    - name: fvt_image_name
      value: fvt-ibm-mas-manage-scheduler
    - name: fvt_image_version
      value: $(params.fvt_version_manage_scheduler)
    - name: fvt_test_suite
      value: setup_sched_fvt # Keyword for Scheduler FVT Setup
    - name: product_channel
      value: $(params.mas_app_channel_manage)
    - name: product_id
      value: ibm-mas-manage
    - name: artifactory_apikey
      value: $(params.fvt_artifactory_apikey)

    - name: test_type
      value: $(params.test_type)
    - name: test_phase
      value: $(params.test_phase)
  taskRef:
    kind: Task
    name: mas-fvt-manage
  # Only if we've set a version of the Manage scheduler FVT to run
  when:
    - input: "$(params.fvt_version_manage_scheduler)"
      operator: notin
      values: ["skip"]
    - input: "$(params.mas_app_channel_manage)"
      operator: notin
      values: [""]
  runAfter:
    - fvt-manage-setup
  workspaces:
    - name: configs
      workspace: shared-configs

# FVT6.12.2 Manage FVT - Scheduler
- name: fvt-manage-scheduler
  params:
    - name: mas_instance_id
      value: $(params.mas_instance_id)
    - name: mas_workspace_id
      value: $(params.mas_workspace_id)

    - name: devops_mongo_uri
      value: $(params.devops_mongo_uri)
    - name: devops_build_number
      value: $(params.devops_build_number)
    - name: devops_cos_crn
      value: $(params.devops_cos_crn)
    - name: ibmcloud_apikey
      value: $(params.ibmcloud_apikey)

    - name: fvt_image_registry
      value: $(params.fvt_image_registry)
    - name: fvt_image_namespace
      value: fvt-manage
    - name: fvt_image_name
      value: fvt-ibm-mas-manage-scheduler
    - name: fvt_image_version
      value: $(params.fvt_version_manage_scheduler)
    - name: fvt_test_suite
      value: sched_fvt # Keyword for Scheduler FVT
    - name: product_channel
      value: $(params.mas_app_channel_manage)
    - name: product_id
      value: ibm-mas-manage
    - name: artifactory_apikey
      value: $(params.fvt_artifactory_apikey)

    - name: test_type
      value: $(params.test_type)
    - name: test_phase
      value: $(params.test_phase)
  taskRef:
    kind: Task
    name: mas-fvt-manage
  # Only if we've set a version of the Manage scheduler FVT to run
  when:
    - input: "$(params.fvt_version_manage_scheduler)"
      operator: notin
      values: ["skip"]
    - input: "$(params.mas_app_channel_manage)"
      operator: notin
      values: [""]
  runAfter:
    - fvt-manage-scheduler-setup
  workspaces:
    - name: configs
      workspace: shared-configs

# FVT6.13 Manage FVT - Mobile Setup
- name: fvt-manage-mobile-setup
  params:
    - name: mas_instance_id
      value: $(params.mas_instance_id)
    - name: mas_workspace_id
      value: $(params.mas_workspace_id)

    - name: devops_mongo_uri
      value: $(params.devops_mongo_uri)
    - name: devops_build_number
      value: $(params.devops_build_number)
    - name: devops_cos_crn
      value: $(params.devops_cos_crn)
    - name: ibmcloud_apikey
      value: $(params.ibmcloud_apikey)

    - name: fvt_image_registry
      value: $(params.fvt_image_registry)
    - name: fvt_image_namespace
      value: fvt-manage
    - name: fvt_image_name
      value: fvt-ibm-mas-manage-mobile-setup
    - name: fvt_image_version
      value: $(params.fvt_version_manage_mobile_setup)
    - name: fvt_test_suite
      value: mxmobsetup # Keyword for Mobile FVT
    - name: product_channel
      value: $(params.mas_app_channel_manage)
    - name: product_id
      value: ibm-mas-manage
    - name: artifactory_apikey
      value: $(params.fvt_artifactory_apikey)

    - name: test_type
      value: $(params.test_type)
    - name: test_phase
      value: $(params.test_phase)
  taskRef:
    kind: Task
    name: mas-fvt-manage
  # Only if we've set a version of the Manage Transportation FVT to run
  when:
    - input: "$(params.fvt_version_manage_mobile_setup)"
      operator: notin
      values: ["skip"]
    - input: "$(params.mas_app_channel_manage)"
      operator: notin
      values: [""]
  runAfter:
    - fvt-manage-setup
  workspaces:
    - name: configs
      workspace: shared-configs

# FVT6.14 Manage FVT - Maintenance Manager
- name: fvt-manage-maintmanager
  params:
    - name: mas_instance_id
      value: $(params.mas_instance_id)
    - name: mas_workspace_id
      value: $(params.mas_workspace_id)

    - name: devops_mongo_uri
      value: $(params.devops_mongo_uri)
    - name: devops_build_number
      value: $(params.devops_build_number)
    - name: devops_cos_crn
      value: $(params.devops_cos_crn)
    - name: ibmcloud_apikey
      value: $(params.ibmcloud_apikey)

    - name: fvt_image_registry
      value: $(params.fvt_image_registry)
    - name: fvt_image_namespace
      value: fvt-manage
    - name: fvt_image_name
      value: fvt-ibm-mas-manage-maintmanager
    - name: fvt_image_version
      value: $(params.fvt_version_manage_maintmanager)
    - name: fvt_test_suite
      value: mm_bvt # Keyword for Maint Manager FVT
    - name: product_channel
      value: $(params.mas_app_channel_manage)
    - name: product_id
      value: ibm-mas-manage
    - name: artifactory_apikey
      value: $(params.fvt_artifactory_apikey)

    - name: test_type
      value: $(params.test_type)
    - name: test_phase
      value: $(params.test_phase)
  taskRef:
    kind: Task
    name: mas-fvt-manage
  # Only if we've set a version of the Manage Maintenance Manager FVT to run
  when:
    - input: "$(params.fvt_version_manage_maintmanager)"
      operator: notin
      values: ["skip"]
    - input: "$(params.mas_app_channel_manage)"
      operator: notin
      values: [""]
  runAfter:
    - fvt-manage-setup
  workspaces:
    - name: configs
      workspace: shared-configs

# FVT6.15 Manage FVT - Health
- name: fvt-manage-health
  params:
    - name: mas_instance_id
      value: $(params.mas_instance_id)
    - name: mas_workspace_id
      value: $(params.mas_workspace_id)

    - name: devops_mongo_uri
      value: $(params.devops_mongo_uri)
    - name: devops_build_number
      value: $(params.devops_build_number)
    - name: devops_cos_crn
      value: $(params.devops_cos_crn)
    - name: ibmcloud_apikey
      value: $(params.ibmcloud_apikey)

    - name: fvt_image_registry
      value: $(params.fvt_image_registry)
    - name: fvt_image_namespace
      value: fvt-manage
    - name: fvt_image_name
      value: fvt-ibm-mas-manage-health
    - name: fvt_image_version
      value: $(params.fvt_version_manage_health)
    - name: fvt_test_suite
      value: assetviewtable # Keyword for Health FVT
    - name: product_channel
      value: $(params.mas_app_channel_manage)
    - name: product_id
      value: ibm-mas-manage
    - name: artifactory_apikey
      value: $(params.fvt_artifactory_apikey)

    - name: test_type
      value: $(params.test_type)
    - name: test_phase
      value: $(params.test_phase)      
  taskRef:
    kind: Task
    name: mas-fvt-manage
  # Only if we've set a version of the Manage Health FVT to run
  when:
    - input: "$(params.fvt_version_manage_health)"
      operator: notin
      values: ["skip"]
    - input: "$(params.mas_app_channel_manage)"
      operator: notin
      values: [""]
  runAfter:
    - fvt-manage-setup
  workspaces:
    - name: configs
      workspace: shared-configs

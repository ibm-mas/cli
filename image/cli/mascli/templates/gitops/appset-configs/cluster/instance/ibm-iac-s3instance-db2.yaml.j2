module "s3buckets_instance_{{RDS_S3_APP_NAME}}" {
  source = "{{RDS_S3_SOURCE}}"

  tags                    = var.common_tags
  name_prefix             = var.name_prefix
  s3buckets               = local.cluster.instance.rds_s3bucket_{{RDS_S3_APP_NAME}}
  iam_user_arns           = local.iam_user_arns_audit_log_{{RDS_S3_APP_NAME}}
  bucket_user_name_map    = local.bucket_user_name_map_audit_log_{{RDS_S3_APP_NAME}}
  iam_users_by_bucket     = local.iam_users_by_bucket_audit_log_{{RDS_S3_APP_NAME}}
  s3_iam_users_list       = local.s3_iam_users_list_audit_log_{{RDS_S3_APP_NAME}}
  s3_actions              = local.s3_actions_audit_log
  s3_encryption           = true
  s3_encryption_algorithm = var.s3_encryption_algorithm
  force_bucket_destroy    = true
  mas_cluster_id          = local.cluster.name
  mas_instance_id         = local.cluster.instance.name
  secret_recovery_days    = 0
  s3_bucket_region        = local.location.region
}
<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://ibm-mas.github.io/cli/commands/update/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>update - MAS CLI</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "update";
        var mkdocs_page_input_path = "commands/update.md";
        var mkdocs_page_url = "/cli/commands/update/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> MAS CLI
        </a>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Guides</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../guides/choosing-the-right-catalog/">Choosing the Right Catalog</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../guides/image-mirroring/">Image Mirroring</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../guides/install/">Install</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../guides/update/">Update</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../guides/upgrade/">Upgrade</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../guides/uninstall/">Uninstall</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">OpenShift Management</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../provision-fyre/">provision-fyre</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../provision-roks/">provision-roks</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../provision-rosa/">provision-rosa</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../configure-airgap/">configure-airgap</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Image Mirroring</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../setup-registry/">setup-registry</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../teardown-registry/">teardown-registry</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../mirror-images/">mirror-images</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../mirror-redhat-images/">mirror-redhat-images</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">MAS Management</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../configtool-oidc/">configtool-oidc</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../install/">install</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">update</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#usage">Usage</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#dependency-management">Dependency Management</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#mongodb-kafka">MongoDb &amp; Kafka</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#ibm-cloud-pak-for-data">IBM Cloud Pak for Data</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#automatic-migrations">Automatic Migrations</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#uds-to-dro-migration">UDS to DRO Migration</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#ibm-certificate-manager">IBM Certificate Manager</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#grafana-operator-v4">Grafana Operator v4</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#examples">Examples</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#interactive-update">Interactive Update</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#non-interactive-update">Non-Interactive Update</a>
    </li>
        </ul>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../upgrade/">upgrade</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../uninstall/">uninstall</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Troubleshooting</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../must-gather/">must-gather</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Catalogs</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../catalogs/">All Catalogs</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../catalogs/v9-240730-amd64/">Jul 25 2024</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../catalogs/v9-240625-amd64/">Jun 25 2024</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../catalogs/v8-240528-amd64/">May 28 2024</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../catalogs/v8-240430-amd64/">Apr 30 2024</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Reference</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../reference/dependencies/">Dependencies</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../reference/topology/">Topology</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../reference/cluster-extensions/">Cluster Extensions</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">MAS CLI</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">MAS Management</li>
      <li class="breadcrumb-item active">update</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/ibm-mas/cli/blob/master/docs/commands/update.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="update">Update<a class="headerlink" href="#update" title="Permanent link"></a></h1>
<h2 id="usage">Usage<a class="headerlink" href="#usage" title="Permanent link"></a></h2>
<p>Usage information can be obtained using <code>mas update --help</code></p>
<pre><code>usage: mas update [-c MAS_CATALOG_VERSION] [--db2-namespace DB2_NAMESPACE] [--mongodb-namespace MONGODB_NAMESPACE] [--mongodb-v5-upgrade] [--mongodb-v6-upgrade]
                  [--kafka-namespace KAFKA_NAMESPACE] [--kafka-provider {redhat,strimzi}] [--dro-migration DRO_MIGRATION]
                  [--dro-storage-class DRO_STORAGE_CLASS] [--dro-namespace DRO_NAMESPACE] [--no-confirm] [--skip-pre-check] [-h]

IBM Maximo Application Suite Admin CLI v100.0.0
Update the IBM Maximo Operator Catalog, and related MAS dependencies by configuring and launching the MAS Update Tekton Pipeline.

Interactive Mode:
Omitting the --catalog option will trigger an interactive prompt

Catalog Selection:
  -c MAS_CATALOG_VERSION, --catalog MAS_CATALOG_VERSION
                                                  Maximo Operator Catalog Version (e.g. v9-240730-amd64)

Update Dependencies:
  --db2-namespace DB2_NAMESPACE                   Namespace where Db2u operator and instances will be updated
  --mongodb-namespace MONGODB_NAMESPACE           Namespace where MongoCE operator and instances will be updated
  --mongodb-v5-upgrade                            Required to confirm a major version update for MongoDb to version 5
  --mongodb-v6-upgrade                            Required to confirm a major version update for MongoDb to version 6
  --kafka-namespace KAFKA_NAMESPACE               Namespace where Kafka operator and instances will be updated
  --kafka-provider {redhat,strimzi}               The type of Kakfa operator installed in the target namespace for updte

UDS to DRO Migration:
  --dro-migration DRO_MIGRATION                   Required to confirm the migration from IBM User Data Services (UDS) to IBM Data Reporter Operator (DRO)
  --dro-storage-class DRO_STORAGE_CLASS           Set Custom RWO Storage Class name for DRO as part of the update
  --dro-namespace DRO_NAMESPACE                   Set Custom Namespace for DRO(Default: redhat-marketplace)

More:
  --no-confirm                                    Launch the upgrade without prompting for confirmation
  --skip-pre-check                                Skips the 'pre-update-check' and 'post-update-verify' tasks in the update pipeline
  -h, --help                                      Show this help message and exit
</code></pre>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link"></a></h2>
<p>The <code>mas update</code> function is the primary tool for applying security updates and bug fixes to Maximo Application Suite running on OpenShift.  During an update the <a href="/catalogs/">IBM Maximo Operator Catalog</a> will be updated to the chosen version, this will trigger an automatic update to all IBM operators installed from this catalog.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note that <code>mas update</code> will not update any other operator catalogs installed on the OpenShift cluster, including the Red Hat Operator Catalogs.</p>
</div>
<h3 id="dependency-management">Dependency Management<a class="headerlink" href="#dependency-management" title="Permanent link"></a></h3>
<p>In addition to it's primary role to update the IBM Maximo Operator Catalog (and verify the successfull rollout of updated operators) the update command will also perform updates to a number of MAS dependencies controlled outside of the IBM Operator Catalog.</p>
<p>The update function will automatically search for and detect all of these dependencies and present a summary report that will describe the action it will take for the user to review before they launch the update (unless <code>--no-confirm</code> is set, in which case the update will start without prompt).</p>
<h4 id="mongodb-kafka">MongoDb &amp; Kafka<a class="headerlink" href="#mongodb-kafka" title="Permanent link"></a></h4>
<p>Each version of the IBM Maximo Operator Catalog is certified against a specific version of MongoDb and Apache Kafka, although other versions of both are supported, the goal of <code>mas update</code> is to ensure customers' are running MongoDb &amp; Kafka with the same latest bug fixes and security patches that we test the catalog with internally.</p>
<p>To this end <code>mas update</code> will perform updates to both the installed MongoCE Operator and the MongoDbCommunity operand to align the version of the operator and the MongoDb cluster with the same version we have tested with.  When a major version update is required users will be prompted to approve the major version update and recommended to take a database backup, all other updates will be automatically applied.</p>
<p>For Kafka things work pretty much the same; although the version of the operator is out of our control because it is determined by the version of the Red Hat Operator Catalogs that are installed on the cluster.  MAS update will however perform necessary updates to the Kafka operand to update the version of the Kafka instance at appropriate times.</p>
<h4 id="ibm-cloud-pak-for-data">IBM Cloud Pak for Data<a class="headerlink" href="#ibm-cloud-pak-for-data" title="Permanent link"></a></h4>
<p>Each version of the IBM Maximo Operator Catalog is certified compatible with a specific version of IBM Cloud Pak for Data (CP4D), it is not recommended to diverge from this captible version because CP4D versioning is very brittle and even a small patch update to one of it's services can create incompatibilities elsewhere.</p>
<h3 id="automatic-migrations">Automatic Migrations<a class="headerlink" href="#automatic-migrations" title="Permanent link"></a></h3>
<p>Sometimes MAS dependencies go out of support and there is a need to migrate to an alternative, the MAS update function is designed to handle these migrations automatically, giving customers the benefit of a fully automated, well-testing, migration path that they can rely on because it's the same migration path used by IBM internally and all other MAS customers.</p>
<h4 id="uds-to-dro-migration">UDS to DRO Migration<a class="headerlink" href="#uds-to-dro-migration" title="Permanent link"></a></h4>
<p>In November 2023 it was announced that IBM User Data Services (UDS) was being sunset, to be replaced by IBM Data Reporter Operator (DRO).  MAS customers updating from a catalog older than <strong>February 2024</strong> will see UDS uninstalled, DRO installed, and all MAS instances in the cluster automatically migrated to use the new DRO instance.</p>
<h4 id="ibm-certificate-manager">IBM Certificate Manager<a class="headerlink" href="#ibm-certificate-manager" title="Permanent link"></a></h4>
<p>IBM Certificate-Manager is deprecated, it's replacement is Red Hat Certificate-Manager.  MAS customers updating from catalogs prior to <strong>January 2024</strong> will see IBM Certificate-Manager uninstalled, Red Hat Certificate-Manager installed, and all MAS instances automatically reconfigured to use the latter.</p>
<h4 id="grafana-operator-v4">Grafana Operator v4<a class="headerlink" href="#grafana-operator-v4" title="Permanent link"></a></h4>
<p>In December 2024 is was announced that support for the Grafana v4 Operator would cease later that month, MAS customers updating from a catalog older than <strong>February 2024</strong> will see their Grafana installation automatically migrated to the Grafana v5 Operator.</p>
<h2 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link"></a></h2>
<h3 id="interactive-update">Interactive Update<a class="headerlink" href="#interactive-update" title="Permanent link"></a></h3>
<pre><code class="language-bash">docker run -ti --rm --pull always quay.io/ibmmas/cli mas update
</code></pre>
<h3 id="non-interactive-update">Non-Interactive Update<a class="headerlink" href="#non-interactive-update" title="Permanent link"></a></h3>
<pre><code class="language-bash">docker run -ti --rm --pull always quay.io/ibmmas/cli mas update -c v9-240730-amd64 --no-confirm
</code></pre>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/ibm-mas/cli" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../install/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../upgrade/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>

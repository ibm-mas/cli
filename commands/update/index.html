<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>update - Maximo Application Suite CLI Documentation</title>

    <!-- Pure CSS (https://pure-css.github.io/) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/purecss@3.0.0/build/pure-min.css" integrity="sha384-X38yfunGUhNzHpBaEBsWLO+A0HDYOQi8ufWDkZ0k9e0eXz/tH3II7uKZ9msv++Ls" crossorigin="anonymous">
    <link rel="stylesheet" href="../../css/theme.css">

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha256-3edrmyuQ0w65f8gfBsqowzjJe2iM6n0nKciPUp8y+7E=" crossorigin="anonymous"></script>
    <script src="../../js/theme.js"></script>

    <!-- Carbon theme zones (white, g10, g90, g100) -->
    <link rel="stylesheet" href="https://1.www.s81c.com/common/carbon/web-components/tag/latest/themes.css" />

    <!-- The Carbon web-components/framework -->
    <script type="module" src="https://1.www.s81c.com/common/carbon/web-components/version/v2.15.0/ui-shell.min.js"></script>
    <script type="module" src="https://1.www.s81c.com/common/carbon/web-components/version/v2.15.0/breadcrumb.min.js"></script>
    <script type="module" src="https://1.www.s81c.com/common/carbon/web-components/version/v2.15.0/select.min.js"></script>
    <script type="module" src="https://1.www.s81c.com/common/carbon/web-components/version/v2.15.0/tabs.min.js"></script>

    <!-- HighlightJS code formatting support -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
    <script>hljs.highlightAll();</script>

    <!-- User defined extras -->
    
    

    
    <link href="../../extra.css" rel="stylesheet">
    

    
   <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: black; }</style> <script src="../../assets/javascripts/glightbox.min.js"></script></head>

  <body>
    <cds-header aria-label="Maximo Application Suite CLI Documentation" class="cds-theme-zone-g100">
      <cds-header-menu-button button-label-active="Close menu" button-label-inactive="Open menu"></cds-header-menu-button>
      <cds-header-name href="../.." prefix="IBM">Maximo Application Suite CLI Documentation</cds-header-name>
    </cds-header>
    <cds-side-nav aria-label="Side navigation" class="cds-theme-zone-g10" expanded>
      <cds-side-nav-items>
        
          
  <cds-side-nav-menu title="Guides" >
    
      
  <cds-side-nav-menu-item href="../../guides/image-mirroring/" >
    Image Mirroring
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../guides/install/" >
    Install
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../guides/update/" >
    Update
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../guides/upgrade/" >
    Upgrade
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../guides/uninstall/" >
    Uninstall
  </cds-side-nav-menu-item>

    
  </cds-side-nav-menu>

        
          
  <cds-side-nav-menu title="Examples" >
    
      
  <cds-side-nav-menu-item href="../../examples/eam-migration/" >
    EAM Migration
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../examples/mirror-db2/" >
    Mirror Db2 Images
  </cds-side-nav-menu-item>

    
  </cds-side-nav-menu>

        
          
  <cds-side-nav-menu title="Command Reference" expanded>
    
      
  <cds-side-nav-menu-item href="../install/" >
    install
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="./" expanded>
    update
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../upgrade/" >
    upgrade
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../uninstall/" >
    uninstall
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../must-gather/" >
    must-gather
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../configure-airgap/" >
    configure-airgap
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../mirror-images/" >
    mirror-images
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../mirror-redhat-images/" >
    mirror-redhat-images
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../setup-registry/" >
    setup-registry
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../teardown-registry/" >
    teardown-registry
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../provision-fyre/" >
    provision-fyre
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../provision-roks/" >
    provision-roks
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../provision-rosa/" >
    provision-rosa
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../configtool-oidc/" >
    configtool-oidc
  </cds-side-nav-menu-item>

    
  </cds-side-nav-menu>

        
          
  <cds-side-nav-menu title="Operator Catalog" >
    
      
  <cds-side-nav-menu-item href="../../catalogs/" >
    Overview
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../catalogs/v9-241003-amd64/" >
    Oct 03 2024
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../catalogs/v9-240827-amd64/" >
    Aug 27 2024
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../catalogs/v9-240730-amd64/" >
    Jul 30 2024
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../catalogs/v9-240625-amd64/" >
    Jun 25 2024
  </cds-side-nav-menu-item>

    
  </cds-side-nav-menu>

        
          
  <cds-side-nav-menu title="Reference" >
    
      
  <cds-side-nav-menu-item href="../../reference/dependencies/" >
    Dependencies
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../reference/topology/" >
    Topology
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../reference/cluster-extensions/" >
    Cluster Extensions
  </cds-side-nav-menu-item>

    
  </cds-side-nav-menu>

        
      </cds-side-nav-items>
    </cds-side-nav>

    <div id="breadcrumbs" class="rst-content"><cds-breadcrumb no-trailing-slash>
  <cds-breadcrumb-item>
    <cds-breadcrumb-link href="../..">Home</cds-breadcrumb-link>
  </cds-breadcrumb-item>
      <cds-breadcrumb-item>Command Reference</cds-breadcrumb-item>

  <cds-breadcrumb-item aria-current="page">
    <cds-breadcrumb-link href="#update">Update</cds-breadcrumb-link>
  </cds-breadcrumb-item>

<cds-breadcrumb-item>
  <cds-select id="breadcrumbs-toc" class="cds-theme-zone-g10" inline placeholder="..." oninput="changeAnchor(this.value)">
  
  
    <cds-select-item value="#usage">Usage</cds-select-item>
  
    <cds-select-item value="#overview">Overview</cds-select-item>
  
    <cds-select-item value="#examples">Examples</cds-select-item>
  
</cds-select>
</cds-breadcrumb-item>

</cds-breadcrumb>
    </div>

    <div id="main-content" class="rst-content">
      
      <h1 id="update">Update<a class="headerlink" href="#update" title="Permanent link">¤</a></h1>
<h2 id="usage">Usage<a class="headerlink" href="#usage" title="Permanent link">¤</a></h2>
<p>Usage information can be obtained using <code>mas update --help</code></p>
<pre><code>usage: mas update [-c MAS_CATALOG_VERSION] [--db2-namespace DB2_NAMESPACE] [--mongodb-namespace MONGODB_NAMESPACE] [--mongodb-v5-upgrade] [--mongodb-v6-upgrade]
                  [--kafka-namespace KAFKA_NAMESPACE] [--kafka-provider {redhat,strimzi}] [--dro-migration DRO_MIGRATION]
                  [--dro-storage-class DRO_STORAGE_CLASS] [--dro-namespace DRO_NAMESPACE] [--no-confirm] [--skip-pre-check] [-h]

IBM Maximo Application Suite Admin CLI v100.0.0
Update the IBM Maximo Operator Catalog, and related MAS dependencies by configuring and launching the MAS Update Tekton Pipeline.

Interactive Mode:
Omitting the --catalog option will trigger an interactive prompt

Catalog Selection:
  -c MAS_CATALOG_VERSION, --catalog MAS_CATALOG_VERSION
                                                  Maximo Operator Catalog Version (e.g. v9-241003-amd64)

Update Dependencies:
  --db2-namespace DB2_NAMESPACE                   Namespace where Db2u operator and instances will be updated
  --mongodb-namespace MONGODB_NAMESPACE           Namespace where MongoCE operator and instances will be updated
  --mongodb-v5-upgrade                            Required to confirm a major version update for MongoDb to version 5
  --mongodb-v6-upgrade                            Required to confirm a major version update for MongoDb to version 6
  --kafka-namespace KAFKA_NAMESPACE               Namespace where Kafka operator and instances will be updated
  --kafka-provider {redhat,strimzi}               The type of Kakfa operator installed in the target namespace for updte

UDS to DRO Migration:
  --dro-migration DRO_MIGRATION                   Required to confirm the migration from IBM User Data Services (UDS) to IBM Data Reporter Operator (DRO)
  --dro-storage-class DRO_STORAGE_CLASS           Set Custom RWO Storage Class name for DRO as part of the update
  --dro-namespace DRO_NAMESPACE                   Set Custom Namespace for DRO(Default: redhat-marketplace)

More:
  --no-confirm                                    Launch the upgrade without prompting for confirmation
  --skip-pre-check                                Skips the 'pre-update-check' and 'post-update-verify' tasks in the update pipeline
  -h, --help                                      Show this help message and exit
</code></pre>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">¤</a></h2>
<p>The <code>mas update</code> function is the primary tool for applying security updates and bug fixes to Maximo Application Suite running on OpenShift.  During an update the <a href="../../catalogs/">IBM Maximo Operator Catalog</a> will be updated to the chosen version, this will trigger an automatic update to all IBM operators installed from this catalog.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note that <code>mas update</code> will not update any other operator catalogs installed on the OpenShift cluster, including the Red Hat Operator Catalogs.</p>
</div>
<h3 id="dependency-management">Dependency Management<a class="headerlink" href="#dependency-management" title="Permanent link">¤</a></h3>
<p>In addition to it's primary role to update the IBM Maximo Operator Catalog (and verify the successfull rollout of updated operators) the update command will also perform updates to a number of MAS dependencies controlled outside of the IBM Operator Catalog.</p>
<p>The update function will automatically search for and detect all of these dependencies and present a summary report that will describe the action it will take for the user to review before they launch the update (unless <code>--no-confirm</code> is set, in which case the update will start without prompt).</p>
<h4 id="mongodb-kafka">MongoDb &amp; Kafka<a class="headerlink" href="#mongodb-kafka" title="Permanent link">¤</a></h4>
<p>Each version of the IBM Maximo Operator Catalog is certified against a specific version of MongoDb and Apache Kafka, although other versions of both are supported, the goal of <code>mas update</code> is to ensure customers' are running MongoDb &amp; Kafka with the same latest bug fixes and security patches that we test the catalog with internally.</p>
<p>To this end <code>mas update</code> will perform updates to both the installed MongoCE Operator and the MongoDbCommunity operand to align the version of the operator and the MongoDb cluster with the same version we have tested with.  When a major version update is required users will be prompted to approve the major version update and recommended to take a database backup, all other updates will be automatically applied.</p>
<p>For Kafka things work pretty much the same; although the version of the operator is out of our control because it is determined by the version of the Red Hat Operator Catalogs that are installed on the cluster.  MAS update will however perform necessary updates to the Kafka operand to update the version of the Kafka instance at appropriate times.</p>
<h4 id="ibm-cloud-pak-for-data">IBM Cloud Pak for Data<a class="headerlink" href="#ibm-cloud-pak-for-data" title="Permanent link">¤</a></h4>
<p>Each version of the IBM Maximo Operator Catalog is certified compatible with a specific version of IBM Cloud Pak for Data (CP4D), it is not recommended to diverge from this captible version because CP4D versioning is very brittle and even a small patch update to one of it's services can create incompatibilities elsewhere.</p>
<h3 id="automatic-migrations">Automatic Migrations<a class="headerlink" href="#automatic-migrations" title="Permanent link">¤</a></h3>
<p>Sometimes MAS dependencies go out of support and there is a need to migrate to an alternative, the MAS update function is designed to handle these migrations automatically, giving customers the benefit of a fully automated, well-testing, migration path that they can rely on because it's the same migration path used by IBM internally and all other MAS customers.</p>
<h4 id="uds-to-dro-migration">UDS to DRO Migration<a class="headerlink" href="#uds-to-dro-migration" title="Permanent link">¤</a></h4>
<p>In November 2023 it was announced that IBM User Data Services (UDS) was being sunset, to be replaced by IBM Data Reporter Operator (DRO).  MAS customers updating from a catalog older than <strong>February 2024</strong> will see UDS uninstalled, DRO installed, and all MAS instances in the cluster automatically migrated to use the new DRO instance.</p>
<h4 id="ibm-certificate-manager">IBM Certificate Manager<a class="headerlink" href="#ibm-certificate-manager" title="Permanent link">¤</a></h4>
<p>IBM Certificate-Manager is deprecated, it's replacement is Red Hat Certificate-Manager.  MAS customers updating from catalogs prior to <strong>January 2024</strong> will see IBM Certificate-Manager uninstalled, Red Hat Certificate-Manager installed, and all MAS instances automatically reconfigured to use the latter.</p>
<h4 id="grafana-operator-v4">Grafana Operator v4<a class="headerlink" href="#grafana-operator-v4" title="Permanent link">¤</a></h4>
<p>In December 2024 is was announced that support for the Grafana v4 Operator would cease later that month, MAS customers updating from a catalog older than <strong>February 2024</strong> will see their Grafana installation automatically migrated to the Grafana v5 Operator.</p>
<h2 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">¤</a></h2>
<h3 id="interactive-update">Interactive Update<a class="headerlink" href="#interactive-update" title="Permanent link">¤</a></h3>
<pre><code class="language-bash">docker run -ti --rm --pull always quay.io/ibmmas/cli mas update
</code></pre>
<h3 id="non-interactive-update">Non-Interactive Update<a class="headerlink" href="#non-interactive-update" title="Permanent link">¤</a></h3>
<pre><code class="language-bash">docker run -ti --rm --pull always quay.io/ibmmas/cli mas update -c v9-241003-amd64 --no-confirm
</code></pre>
      
    </div>
    <!-- <div id="footer" class="rst-content">
      Built with mkdocs v1.6.1 (2024-10-23 08:47:09.039827+00:00)
    </div> -->
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": false, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
</script></body>
</html>
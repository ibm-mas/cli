<!DOCTYPE html><html lang="en"><head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Image Mirroring - Maximo Application Suite CLI</title>

    <!-- Pure CSS (https://pure-css.github.io/) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/purecss@3.0.0/build/pure-min.css" integrity="sha384-X38yfunGUhNzHpBaEBsWLO+A0HDYOQi8ufWDkZ0k9e0eXz/tH3II7uKZ9msv++Ls" crossorigin="anonymous">
    <link rel="stylesheet" href="../../css/theme.css">

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha256-3edrmyuQ0w65f8gfBsqowzjJe2iM6n0nKciPUp8y+7E=" crossorigin="anonymous"></script>
    <script src="../../js/theme.js"></script>

    <!-- Carbon theme zones (white, g10, g90, g100) -->
    <link rel="stylesheet" href="https://1.www.s81c.com/common/carbon/web-components/tag/latest/themes.css">

    <!-- The Carbon web-components/framework -->
    <script type="module" src="https://1.www.s81c.com/common/carbon/web-components/version/v2.15.0/ui-shell.min.js"></script>
    <script type="module" src="https://1.www.s81c.com/common/carbon/web-components/version/v2.15.0/accordion.min.js"></script>
    <script type="module" src="https://1.www.s81c.com/common/carbon/web-components/version/v2.15.0/breadcrumb.min.js"></script>
    <script type="module" src="https://1.www.s81c.com/common/carbon/web-components/version/v2.15.0/select.min.js"></script>
    <script type="module" src="https://1.www.s81c.com/common/carbon/web-components/version/v2.15.0/tabs.min.js"></script>
    <script type="module" src="https://1.www.s81c.com/common/carbon/web-components/version/v2.15.0/search.min.js"></script>

    <!-- HighlightJS code formatting support -->
    <link rel="stylesheet" id="hljs-light" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css">
    <link rel="stylesheet" id="hljs-dark" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
    <script>hljs.highlightAll();</script>

    <!-- Required by MkDocs search -->
    <script>var base_url = "../..";</script>

    <!-- User defined extras -->
    
    

    
    <link href="../../extra.css" rel="stylesheet">
    

    
    <script src="../../search/main.js"></script>
    
  <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: black; }
        </style></head>

  <body class="md-grid" data-theme-default="g90">
    <!-- Header -->
    <cds-header aria-label="Maximo Application Suite CLI" class="md-header">
      <cds-header-menu-button button-label-active="Close menu" button-label-inactive="Open menu"></cds-header-menu-button>
      <cds-header-name href="../.." prefix="IBM">Maximo Application Suite CLI</cds-header-name>
      <cds-header-nav menu-bar-label="IBM Maximo Application Suite CLI">
          <cds-header-nav-item target="" href="https://ibm-mas.github.io/ansible-devops/">Ansible</cds-header-nav-item>
          <cds-header-nav-item is-active target="" href="">CLI</cds-header-nav-item>
      </cds-header-nav>

      <div class="cds--header__global">
<div class="md-theme-toggle" data-theme-default="g90">
  <button class="md-theme-toggle__button" aria-label="Toggle theme" title="Toggle theme">
    <svg class="md-theme-toggle__icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
      <path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1z"></path>
    </svg>
  </button>
  <div class="md-theme-toggle__menu" hidden>
    <button class="md-theme-toggle__option" data-theme="white">
      <span class="md-theme-toggle__label">Light</span>
      <span class="md-theme-toggle__preview md-theme-toggle__preview--white"></span>
    </button>
    <button class="md-theme-toggle__option" data-theme="g10">
      <span class="md-theme-toggle__label">Light Gray</span>
      <span class="md-theme-toggle__preview md-theme-toggle__preview--g10"></span>
    </button>
    <button class="md-theme-toggle__option" data-theme="g90">
      <span class="md-theme-toggle__label">Dark Gray</span>
      <span class="md-theme-toggle__preview md-theme-toggle__preview--g90"></span>
    </button>
    <button class="md-theme-toggle__option" data-theme="g100">
      <span class="md-theme-toggle__label">Dark</span>
      <span class="md-theme-toggle__preview md-theme-toggle__preview--g100"></span>
    </button>
  </div>
</div>
        <cds-search id="header-search" label-text="Search" cds-search-input="search-event" expandable></cds-search>
      </div>
      <script>
        var el = document.getElementById("header-search");
        el.addEventListener("cds-search-input", function (ev) {
          console.info(ev.detail.value)
          document.getElementById("header-search-value").setAttribute("value", ev.detail.value);
        });
        el.addEventListener('keydown', function (ev) {
          if (ev.key === 'Enter') {
            location.href="../../search.html?q=" + document.querySelector("#header-search").shadowRoot.querySelector("#input").value;
          }
        });
      </script>

      
        <cds-header-nav>
          <cds-header-nav-item href="https://github.com/ibm-mas/cli/blob/master/docs/guides/image-mirroring.md">Edit on GitHub</cds-header-nav-item>
        </cds-header-nav>
      
    </cds-header>

    <!-- Main container with three-column layout -->
    <div class="md-container">
      <!-- Left sidebar - Navigation -->
      <aside class="md-sidebar md-sidebar--primary" data-md-component="sidebar">
        <div class="md-sidebar__scrollwrap">
          <div class="md-sidebar__inner">
            <cds-side-nav aria-label="Side navigation">
              <cds-side-nav-items>
                
                  
  <cds-side-nav-menu title="Guides" active expanded>
    
      
  <cds-side-nav-menu-item href="./" active expanded>
    Image Mirroring
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../image-validation/">
    Image Validation
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../install/">
    Install
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../update/">
    Update
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../upgrade/">
    Upgrade
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../uninstall/">
    Uninstall
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../facilities-external-db/">
    MRE&amp;F External DB Setup
  </cds-side-nav-menu-item>

    
  </cds-side-nav-menu>

                
                  
  <cds-side-nav-menu title="Examples">
    
      
  <cds-side-nav-menu-item href="../../examples/eam-migration/">
    EAM Migration
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../examples/mirror-db2/">
    Mirror Db2 Images
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../examples/minimal-rbac/">
    Minimal RBAC
  </cds-side-nav-menu-item>

    
  </cds-side-nav-menu>

                
                  
  <cds-side-nav-menu title="Command Reference">
    
      
  <cds-side-nav-menu-item href="../../commands/uninstall/">
    uninstall
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../commands/must-gather/">
    must-gather
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../commands/configure-airgap/">
    configure-airgap
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../commands/mirror-redhat-images/">
    mirror-redhat-images
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../commands/setup-registry/">
    setup-registry
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../commands/teardown-registry/">
    teardown-registry
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../commands/provision-fyre/">
    provision-fyre
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../commands/provision-roks/">
    provision-roks
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../commands/provision-rosa/">
    provision-rosa
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../commands/configtool-oidc/">
    configtool-oidc
  </cds-side-nav-menu-item>

    
  </cds-side-nav-menu>

                
                  
  <cds-side-nav-menu title="Operator Catalogs">
    
      
  <cds-side-nav-menu-item href="../../catalogs/">
    Overview
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../catalogs/v9-251231-amd64/">
    Dec 31 2025
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../catalogs/v9-251127-amd64/">
    Nov 27 2025
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../catalogs/v9-251030-amd64/">
    Oct 30 2025
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../catalogs/v9-251010-amd64/">
    Oct 10 2025
  </cds-side-nav-menu-item>

    
  </cds-side-nav-menu>

                
                  
  <cds-side-nav-menu title="Reference">
    
      
  <cds-side-nav-menu-item href="../../reference/dependencies/">
    Dependencies
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../reference/topology/">
    Topology
  </cds-side-nav-menu-item>

    
      
  <cds-side-nav-menu-item href="../../reference/cluster-extensions/">
    Cluster Extensions
  </cds-side-nav-menu-item>

    
  </cds-side-nav-menu>

                
              </cds-side-nav-items>
            </cds-side-nav>
          </div>
        </div>
      </aside>

      <!-- Main content area -->
      <div class="md-content" data-md-component="content">
        <article class="md-content__inner">
          <!-- Breadcrumbs -->
          <div class="md-breadcrumbs"><cds-breadcrumb no-trailing-slash>
  <cds-breadcrumb-item>
    <cds-breadcrumb-link href="../..">Home</cds-breadcrumb-link>
  </cds-breadcrumb-item>
      <cds-breadcrumb-item>Guides</cds-breadcrumb-item>
  <cds-breadcrumb-item>
    <cds-breadcrumb-link href="#image-mirroring">Image Mirroring</cds-breadcrumb-link>
  </cds-breadcrumb-item>

  <cds-breadcrumb-item aria-current="page">
    <cds-select id="breadcrumbs-toc" inline placeholder="..." oninput="changeAnchor(this.value)">
    
    
      <cds-select-item value="#usage">Usage</cds-select-item>
    
      <cds-select-item value="#interactive-image-mirroring">Interactive Image Mirroring</cds-select-item>
    
      <cds-select-item value="#non-interactive-image-mirroring">Non-Interactive Image Mirroring</cds-select-item>
    
      <cds-select-item value="#storage-requirements">Storage Requirements</cds-select-item>
    
    </cds-select>
  </cds-breadcrumb-item>
</cds-breadcrumb>
          </div>

          <!-- Page content -->
          <div class="rst-content">
            
            <h1 id="image-mirroring">Image Mirroring<a class="headerlink" href="#image-mirroring" title="Permanent link">¶</a></h1>
<p>We recommend the use of two-phase mirroring in most cases, it is slower than direct mirroring and requires more storage capacity, but can allow you to more easily recover from network glitches and creates a clean seperation of the tasks of getting the content from the source registry and putting it into the target registry which can make debugging failures easier.</p>
<p>This guide assumes that you are looking to mirror content for the latest release (<strong>9.1.x</strong>) from the most recent catalog update (<strong>v9-251231-amd64</strong>), and that you are installing all MAS applications &amp; dependencies.  If you are not installing certain applications or dependencies take care to remove the appropriate <code>--mirror-x</code> flags to avoid mirroring unnecessary images.</p>
<p>By default image repositories will be prefixed using the datestamp of the Maximo Operator Catalog that you are mirroring from, this allows for simpler registry management, you can prune all images under <code>mas-241105/*</code> in your mirror registry once you know that you have updated all clusters to a newer version of the catalog.</p>
<h2 id="usage">Usage<a class="headerlink" href="#usage" title="Permanent link">¶</a></h2>
<p>For full usage information run <code>mas mirror-images --help</code></p>
<h2 id="interactive-image-mirroring">Interactive Image Mirroring<a class="headerlink" href="#interactive-image-mirroring" title="Permanent link">¶</a></h2>
<p>You can start image mirroring by running the <code>mas mirror-images</code> command with no parameters, you will be prompted to select the mirror mode and working directory, configure the target registry, and select which content you wish to mirror.</p>
<p>The easiest way to do this is using the MAS CLI container image as below:</p>
<pre><code class="language-bash">LOCAL_DIR=/home/david/mirrorfiles
docker run -ti --rm -v $LOCAL_DIR:/mnt/registry quay.io/ibmmas/cli:18.9.0 mas mirror-images
</code></pre>
<h2 id="non-interactive-image-mirroring">Non-Interactive Image Mirroring<a class="headerlink" href="#non-interactive-image-mirroring" title="Permanent link">¶</a></h2>
<p>This guide will take you through we mirror images in our own development environment, breaking up the task into 4 distinct stages to further break down the work and make it easier to address any problems by providing clear milestones:</p>
<ul>
<li><a href="#preparation">Preparation</a></li>
<li><a href="#stage-1-core">IBM Maximo Application Suite Core</a></li>
<li><a href="#stage-2-apps">IBM Maximo Applications</a></li>
<li><a href="#stage-3-cp4d">IBM Cloud Pak for Data</a></li>
<li><a href="#stage-4-other-dependencies">Other Dependencies</a></li>
</ul>
<h3 id="preparation">Preparation<a class="headerlink" href="#preparation" title="Permanent link">¶</a></h3>
<p>Set the following environment variables that will be used in each stage:</p>
<pre><code class="language-bash">export IBM_ENTITLEMENT_KEY=xxx
export LOCAL_DIR=xxx
export REGISTRY_HOST=xxx
export REGISTRY_PORT=xxx
export REGISTRY_USERNAME=xxx
export REGISTRY_PASSWORD=xxx
</code></pre>
<p>If you do not have a single system with both access to the public source registries <strong>and</strong> your internal private registry then you will require a system with internet connectivity and another with access to your private network, along with a means to transfer data from one to the other (for example, a portable drive).</p>
<p>In this scenario, we must also transfer the CLI image to your local registry:</p>
<pre><code class="language-bash">oc image mirror --dir $LOCAL_DIR/cli quay.io/ibmmas/cli:18.9.0 file://ibmmas/cli:18.9.0 --filter-by-os='.*'
</code></pre>
<p>Transfer the content of <code>$LOCAL_DIR/cli</code> to your system within the private network and transfer the image to your mirror registry.</p>
<pre><code class="language-bash">docker login $REGISTRY_HOST:$REGISTRY_PORT -u $REGISTRY_USERNAME -p $REGISTRY_PASSWORD
oc image mirror --dir $LOCAL_DIR/cli file://ibmmas/cli:18.9.0 $REGISTRY_HOST:$REGISTRY_PORT/ibmmas/cli:18.9.0 --filter-by-os='.*'
</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For the next steps, if you want to mirror Single architecture images, include the variable as explained below depending on your environment. Available list of arch images include "amd64", "ppc64le", "s390x". </p>
</div>
<pre><code class="language-bash">    export MIRROR_SINGLE_ARCH=amd64
</code></pre>
<p>export the variable in the mascli container before we begin to mirror images. This step helps save storage space else all the images with three architectures get downloaded. </p>
<h3 id="stage-1-core">Stage 1 - Core<a class="headerlink" href="#stage-1-core" title="Permanent link">¶</a></h3>
<p>Let's start simple and just get the MAS Core and IBM Maximo Operator Catalog mirrored to the registry, this shouldn't take long and provides an early measure of the download and upload performance to help estimate the time to complete the larger stages.</p>
<p><cds-tabs trigger-content="Select an item" value="direct">
  <cds-tab id="tab-direct-core" target="panel-direct-core" value="direct">Direct</cds-tab>
  <cds-tab id="tab-to-core" target="panel-to-core" value="to">To Filesystem</cds-tab>
  <cds-tab id="tab-from-core" target="panel-from-core" value="from">From Filesystem</cds-tab>
  <cds-tab id="tab-from-restricted-core" target="panel-from-restricted-core" value="from-restricted">From Filesystem (Restricted)</cds-tab>
</cds-tabs></p>
<div class="tab-panel">
  <div id="panel-direct-core" role="tabpanel" aria-labelledby="tab-direct-core" hidden>


<pre><code class="language-bash">docker run -ti --rm -v $LOCAL_DIR:/mnt/registry quay.io/ibmmas/cli:18.9.0 mas mirror-images \
  -m direct -d /mnt/registry/core \
  -H $REGISTRY_HOST -P $REGISTRY_PORT -u $REGISTRY_USERNAME -p $REGISTRY_PASSWORD \
  -c v9-251231-amd64 -C 9.1.x \
  --mirror-catalog --mirror-core \
  --ibm-entitlement $IBM_ENTITLEMENT_KEY
</code></pre>


  </div>
  <div id="panel-to-core" role="tabpanel" aria-labelledby="tab-to-core" hidden>


<pre><code class="language-bash">docker run -ti --rm -v $LOCAL_DIR:/mnt/registry quay.io/ibmmas/cli:18.9.0 mas mirror-images \
  -m to-filesystem -d /mnt/registry/core \
  -H $REGISTRY_HOST -P $REGISTRY_PORT -u $REGISTRY_USERNAME -p $REGISTRY_PASSWORD \
  -c v9-251231-amd64 -C 9.1.x \
  --mirror-catalog --mirror-core \
  --ibm-entitlement $IBM_ENTITLEMENT_KEY
</code></pre>


  </div>
  <div id="panel-from-core" role="tabpanel" aria-labelledby="tab-from-core" hidden>


<pre><code class="language-bash">docker run -ti --rm -v $LOCAL_DIR:/mnt/registry quay.io/ibmmas/cli:18.9.0 mas mirror-images \
  -m from-filesystem -d /mnt/registry/core \
  -H $REGISTRY_HOST -P $REGISTRY_PORT -u $REGISTRY_USERNAME -p $REGISTRY_PASSWORD \
  -c v9-251231-amd64 -C 9.1.x \
  --mirror-catalog --mirror-core
</code></pre>


  </div>
  <div id="panel-from-restricted-core" role="tabpanel" aria-labelledby="tab-from-restricted-core" hidden>
    <p>Transfer the contents of <code>$LOCAL_DIR/core</code> to your system in the private network and run the second phase using the CLI image that was mirrored to your private registry during preparation.</p>


<pre><code class="language-bash">docker run -ti --rm -v $LOCAL_DIR:/mnt/registry $REGISTRY_HOST:$REGISTRY_PORT/ibmmas/cli:18.9.0 mas mirror-images \
  -m from-filesystem -d /mnt/registry/core \
  -H $REGISTRY_HOST -P $REGISTRY_PORT -u $REGISTRY_USERNAME -p $REGISTRY_PASSWORD \
  -c v9-251231-amd64 -C 9.1.x \
  --mirror-catalog --mirror-core
</code></pre>


  </div>
</div>

<h3 id="stage-2-apps">Stage 2 - Apps<a class="headerlink" href="#stage-2-apps" title="Permanent link">¶</a></h3>
<p><cds-tabs trigger-content="Select an item" value="direct">
  <cds-tab id="tab-direct-apps" target="panel-direct-apps" value="direct">Direct</cds-tab>
  <cds-tab id="tab-to-apps" target="panel-to-apps" value="to">To Filesystem</cds-tab>
  <cds-tab id="tab-from-apps" target="panel-from-apps" value="from">From Filesystem</cds-tab>
  <cds-tab id="tab-from-restricted-apps" target="panel-from-restricted-apps" value="from-restricted">From Filesystem (Restricted)</cds-tab>
</cds-tabs></p>
<div class="tab-panel">
  <div id="panel-direct-apps" role="tabpanel" aria-labelledby="tab-direct-apps" hidden>


<pre><code class="language-bash">docker run -ti --rm -v $LOCAL_DIR:/mnt/registry quay.io/ibmmas/cli:18.9.0 mas mirror-images \
  -m direct -d /mnt/registry/apps \
  -H $REGISTRY_HOST -P $REGISTRY_PORT -u $REGISTRY_USERNAME -p $REGISTRY_PASSWORD \
  -c v9-251231-amd64 -C 9.1.x \
  --mirror-assist --mirror-iot --mirror-manage --mirror-icd --mirror-monitor --mirror-optimizer --mirror-predict --mirror-visualinspection --mirror-facilities \
  --ibm-entitlement $IBM_ENTITLEMENT_KEY
</code></pre>


  </div>
  <div id="panel-to-apps" role="tabpanel" aria-labelledby="tab-to-apps" hidden>


<pre><code class="language-bash">docker run -ti --rm -v $LOCAL_DIR:/mnt/registry quay.io/ibmmas/cli:18.9.0 mas mirror-images \
  -m to-filesystem -d /mnt/registry/apps \
  -H $REGISTRY_HOST -P $REGISTRY_PORT -u $REGISTRY_USERNAME -p $REGISTRY_PASSWORD \
  -c v9-251231-amd64 -C 9.1.x \
  --mirror-assist --mirror-iot --mirror-manage --mirror-icd --mirror-monitor --mirror-optimizer --mirror-predict --mirror-visualinspection --mirror-facilities \
  --ibm-entitlement $IBM_ENTITLEMENT_KEY
</code></pre>


  </div>
  <div id="panel-from-apps" role="tabpanel" aria-labelledby="tab-from-apps" hidden>


<pre><code class="language-bash">docker run -ti --rm -v $LOCAL_DIR:/mnt/registry quay.io/ibmmas/cli:18.9.0 mas mirror-images \
  -m from-filesystem -d /mnt/registry/apps \
  -H $REGISTRY_HOST -P $REGISTRY_PORT -u $REGISTRY_USERNAME -p $REGISTRY_PASSWORD \
  -c v9-251231-amd64 -C 9.1.x \
  --mirror-assist --mirror-iot --mirror-manage --mirror-icd --mirror-monitor --mirror-optimizer --mirror-predict --mirror-visualinspection --mirror-facilities
</code></pre>


  </div>
  <div id="panel-from-restricted-apps" role="tabpanel" aria-labelledby="tab-from-restricted-apps" hidden>
    <p>Transfer the contents of <code>$LOCAL_DIR/apps</code> to your system in the private network and run the second phase using the CLI image that was mirrored to your private registry during preparation.</p>


<pre><code class="language-bash">docker run -ti --rm -v $LOCAL_DIR:/mnt/registry $REGISTRY_HOST:$REGISTRY_PORT/ibmmas/cli:18.9.0 mas mirror-images \
  -m from-filesystem -d /mnt/registry/apps \
  -H $REGISTRY_HOST -P $REGISTRY_PORT -u $REGISTRY_USERNAME -p $REGISTRY_PASSWORD \
  -c v9-251231-amd64 -C 9.1.x \
  --mirror-assist --mirror-iot --mirror-manage --mirror-icd --mirror-monitor --mirror-optimizer --mirror-predict --mirror-visualinspection --mirror-facilities
</code></pre>


  </div>
</div>

<h3 id="stage-3-cp4d">Stage 3 - CP4D<a class="headerlink" href="#stage-3-cp4d" title="Permanent link">¶</a></h3>
<p><cds-tabs trigger-content="Select an item" value="direct">
  <cds-tab id="tab-direct-cp4d" target="panel-direct-cp4d" value="direct">Direct</cds-tab>
  <cds-tab id="tab-to-cp4d" target="panel-to-cp4d" value="to">To Filesystem</cds-tab>
  <cds-tab id="tab-from-cp4d" target="panel-from-cp4d" value="from">From Filesystem</cds-tab>
  <cds-tab id="tab-from-restricted-cp4d" target="panel-from-restricted-cp4d" value="from-restricted">From Filesystem (Restricted)</cds-tab>
</cds-tabs></p>
<div class="tab-panel">
  <div id="panel-direct-cp4d" role="tabpanel" aria-labelledby="tab-direct-cp4d" hidden>


<pre><code class="language-bash">docker run -ti --rm -v $LOCAL_DIR:/mnt/registry quay.io/ibmmas/cli:18.9.0 mas mirror-images \
  -m direct -d /mnt/registry/cp4d \
  -H $REGISTRY_HOST -P $REGISTRY_PORT- u $REGISTRY_USERNAME -p $REGISTRY_PASSWORD \
  -c v9-251231-amd64 -C 9.1.x \
  --mirror-cp4d --mirror-spark --mirror-wml --mirror-wsl --mirror-cognos \
  --ibm-entitlement $IBM_ENTITLEMENT_KEY
</code></pre>


  </div>
  <div id="panel-to-cp4d" role="tabpanel" aria-labelledby="tab-to-cp4d" hidden>


<pre><code class="language-bash">docker run -ti --rm -v $LOCAL_DIR:/mnt/registry quay.io/ibmmas/cli:18.9.0 mas mirror-images \
  -m to-filesystem -d /mnt/registry/cp4d \
  -H $REGISTRY_HOST -P $REGISTRY_PORT- u $REGISTRY_USERNAME -p $REGISTRY_PASSWORD \
  -c v9-251231-amd64 -C 9.1.x \
  --mirror-cp4d --mirror-spark --mirror-wml --mirror-wsl --mirror-cognos \
  --ibm-entitlement $IBM_ENTITLEMENT_KEY
</code></pre>


  </div>
  <div id="panel-from-cp4d" role="tabpanel" aria-labelledby="tab-from-cp4d" hidden>


<pre><code class="language-bash">docker run -ti --rm -v $LOCAL_DIR:/mnt/registry quay.io/ibmmas/cli:18.9.0 mas mirror-images \
  -m from-filesystem -d /mnt/registry/cp4d \
  -H $REGISTRY_HOST -P $REGISTRY_PORT- u $REGISTRY_USERNAME -p $REGISTRY_PASSWORD \
  -c v9-251231-amd64 -C 9.1.x \
  --mirror-cp4d --mirror-spark --mirror-wml --mirror-wsl --mirror-cognos
</code></pre>


  </div>
  <div id="panel-from-restricted-cp4d" role="tabpanel" aria-labelledby="tab-from-restricted-cp4d" hidden>
    <p>Transfer the contents of <code>$LOCAL_DIR/cp4d</code> to your system in the private network and run the second phase using the CLI image that was mirrored to your private registry during preparation.</p>


<pre><code class="language-bash">docker run -ti --rm -v $LOCAL_DIR:/mnt/registry $REGISTRY_HOST:$REGISTRY_PORT/ibmmas/cli:18.9.0 mas mirror-images \
  -m from-filesystem -d /mnt/registry/cp4d \
  -H $REGISTRY_HOST -P $REGISTRY_PORT- u $REGISTRY_USERNAME -p $REGISTRY_PASSWORD \
  -c v9-251231-amd64 -C 9.1.x \
  --mirror-cp4d --mirror-spark --mirror-wml --mirror-wsl --mirror-cognos
</code></pre>


  </div>
</div>

<h3 id="stage-4-other-dependencies">Stage 4 - Other Dependencies<a class="headerlink" href="#stage-4-other-dependencies" title="Permanent link">¶</a></h3>
<p><cds-tabs trigger-content="Select an item" value="direct">
  <cds-tab id="tab-direct-other" target="panel-direct-other" value="direct">Direct</cds-tab>
  <cds-tab id="tab-to-other" target="panel-to-other" value="to">To Filesystem</cds-tab>
  <cds-tab id="tab-from-other" target="panel-from-other" value="from">From Filesystem</cds-tab>
  <cds-tab id="tab-from-restricted-other" target="panel-from-restricted-other" value="from-restricted">From Filesystem (Restricted)</cds-tab>
</cds-tabs></p>
<div class="tab-panel">
  <div id="panel-direct-other" role="tabpanel" aria-labelledby="tab-direct-other" hidden>


<pre><code class="language-bash">docker run -ti --rm -v $LOCAL_DIR:/mnt/registry quay.io/ibmmas/cli:18.9.0 mas mirror-images \
  -m direct -d /mnt/registry/other \
  -H $REGISTRY_HOST -P $REGISTRY_PORT -u $REGISTRY_USERNAME -p $REGISTRY_PASSWORD \
  -c v9-251231-amd64 -C 9.1.x \
  --mirror-mongo --mirror-tsm --mirror-sls --mirror-cfs --mirror-db2 \
  --ibm-entitlement $IBM_ENTITLEMENT_KEY
</code></pre>


  </div>
  <div id="panel-to-other" role="tabpanel" aria-labelledby="tab-to-other" hidden>


<pre><code class="language-bash">docker run -ti --rm -v $LOCAL_DIR:/mnt/registry quay.io/ibmmas/cli:18.9.0 mas mirror-images \
  -m to-filesystem -d /mnt/registry/other \
  -H $REGISTRY_HOST -P $REGISTRY_PORT -u $REGISTRY_USERNAME -p $REGISTRY_PASSWORD \
  -c v9-251231-amd64 -C 9.1.x \
  --mirror-mongo --mirror-tsm --mirror-sls --mirror-cfs --mirror-db2 \
  --ibm-entitlement $IBM_ENTITLEMENT_KEY
</code></pre>


  </div>
  <div id="panel-from-other" role="tabpanel" aria-labelledby="tab-from-other" hidden>


<pre><code class="language-bash">docker run -ti --rm -v $LOCAL_DIR:/mnt/registry quay.io/ibmmas/cli:18.9.0 mas mirror-images \
  -m from-filesystem -d /mnt/registry/other \
  -H $REGISTRY_HOST -P $REGISTRY_PORT -u $REGISTRY_USERNAME -p $REGISTRY_PASSWORD \
  -c v9-251231-amd64 -C 9.1.x \
  --mirror-mongo --mirror-tsm --mirror-sls --mirror-cfs --mirror-db2
</code></pre>


  </div>
  <div id="panel-from-restricted-other" role="tabpanel" aria-labelledby="tab-from-restricted-other" hidden>
    <p>Transfer the contents of <code>$LOCAL_DIR/other</code> to your system in the private network and run the second phase using the CLI image that was mirrored to your private registry during preparation.</p>


<pre><code class="language-bash">docker run -ti --rm -v $LOCAL_DIR:/mnt/registry $REGISTRY_HOST:$REGISTRY_PORT/ibmmas/cli:18.9.0 mas mirror-images \
  -m from-filesystem -d /mnt/registry/other \
  -H $REGISTRY_HOST -P $REGISTRY_PORT -u $REGISTRY_USERNAME -p $REGISTRY_PASSWORD \
  -c v9-251231-amd64 -C 9.1.x \
  --mirror-mongo --mirror-tsm --mirror-sls --mirror-cfs --mirror-db2
</code></pre>


  </div>
</div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p><a href="https://ibm-mas.github.io/cli/commands/mirror-redhat-images">Mirror Redhat images</a> to install required ( DRO, Cert Manager and Grafana) redhat dependencies for Mas installation to progress. Missing this step will result in installation failures.</p>
</div>
<h2 id="storage-requirements">Storage Requirements<a class="headerlink" href="#storage-requirements" title="Permanent link">¶</a></h2>
<p>As of MAS 8.10 (June 2023) the total capacity requirement to mirror content from the IBM Maximo Operator Catalog is approximately <strong>484G</strong>, the following table can be used to determine the approximate storage requirement for your mirrored content based on what content you need to mirror:</p>
<table>
<thead>
<tr>
<th>Maximo Application Suite</th>
<th>Command Flag</th>
<th>Size</th>
</tr>
</thead>
<tbody>
<tr>
<td>Maximo Operator Catalog</td>
<td><code>--mirror-catalog</code></td>
<td>50M</td>
</tr>
<tr>
<td>Maximo Application Suite Core</td>
<td><code>--mirror-core</code></td>
<td>4G</td>
</tr>
<tr>
<td>Maximo Assist</td>
<td><code>--mirror-assist</code></td>
<td>5G</td>
</tr>
<tr>
<td>Maximo IoT</td>
<td><code>--mirror-iot</code></td>
<td>9G</td>
</tr>
<tr>
<td>Maximo Manage</td>
<td><code>--mirror-manage</code></td>
<td>8G</td>
</tr>
<tr>
<td>Maximo Monitor</td>
<td><code>--mirror-monitor</code></td>
<td>17G</td>
</tr>
<tr>
<td>Maximo Optimizer</td>
<td><code>--mirror-optimizer</code></td>
<td>3G</td>
</tr>
<tr>
<td>Maximo Predict</td>
<td><code>--mirror-predict</code></td>
<td>6G</td>
</tr>
<tr>
<td>Maximo Visual Inspection</td>
<td><code>--mirror-visualinspection</code></td>
<td>40G</td>
</tr>
<tr>
<td>Maximo Real Estate and Facilities</td>
<td><code>--mirror-facilities</code>.</td>
<td>TBD</td>
</tr>
<tr>
<td><strong>Total</strong></td>
<td></td>
<td><strong>92G</strong></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>IBM Cloud Pak for Data</th>
<th>Command Flag</th>
<th>Size</th>
</tr>
</thead>
<tbody>
<tr>
<td>IBM CP4D Platform</td>
<td><code>--mirror-cp4d</code></td>
<td>2G</td>
</tr>
<tr>
<td>IBM Analytics Engine (Spark)</td>
<td><code>--mirror-spark</code></td>
<td>54G</td>
</tr>
<tr>
<td>IBM Watson Machine Learning</td>
<td><code>--mirror-wml</code></td>
<td>91G</td>
</tr>
<tr>
<td>IBM Watson Studio Local</td>
<td><code>--mirror-wsl</code></td>
<td>85G</td>
</tr>
<tr>
<td><strong>Total</strong></td>
<td></td>
<td><strong>273G</strong></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Other Dependencies</th>
<th>Command Flag</th>
<th>Size</th>
</tr>
</thead>
<tbody>
<tr>
<td>Mongo Community Edition</td>
<td><code>--mirror-mongo</code></td>
<td>500M</td>
</tr>
<tr>
<td>IBM Truststore Manager</td>
<td><code>--mirror-tsm</code></td>
<td>1G</td>
</tr>
<tr>
<td>IBM Suite License Service</td>
<td><code>--mirror-sls</code></td>
<td>1G</td>
</tr>
<tr>
<td>IBM Cloud Pak Foundation Services</td>
<td><code>--mirror-cfs</code></td>
<td>21G</td>
</tr>
<tr>
<td>IBM Db2</td>
<td><code>--mirror-db2</code></td>
<td>73G</td>
</tr>
<tr>
<td><strong>Total</strong></td>
<td></td>
<td><strong>117G</strong></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The total capacity used on the filesystem in the target mirror registry itself may be lower than this due to the use of shared image layers, particularly across applications in IBM Maximo Application Suite itself.</p>
</div>
            
          </div>

          <!-- Navigation footer (prev/next) -->
<nav class="md-footer-nav" aria-label="Footer navigation">
  <div class="md-footer-nav__inner">
    <a href="../image-validation/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
      <div class="md-footer-nav__direction">
        <span>Next</span>
        <svg class="md-footer-nav__icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"></path>
        </svg>
      </div>
      <div class="md-footer-nav__title">
        <span class="md-footer-nav__title-text">Image Validation</span>
      </div>
    </a>
  </div>
</nav>
        </article>
      </div>

      <!-- Right sidebar - Table of Contents -->
      <aside class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<nav class="md-sidebar md-sidebar--secondary" aria-label="Table of contents">
  <div class="md-sidebar__scrollwrap">
    <div class="md-sidebar__inner">
      <div class="md-toc">
        <div class="md-toc__title">On this page</div>
        <ul class="md-toc__list">
              <li class="md-toc__item">
                <a href="#usage" class="md-toc__link" data-md-level="1">
                  Usage
                </a>
              </li>
              <li class="md-toc__item">
                <a href="#interactive-image-mirroring" class="md-toc__link" data-md-level="1">
                  Interactive Image Mirroring
                </a>
              </li>
              <li class="md-toc__item">
                <a href="#non-interactive-image-mirroring" class="md-toc__link" data-md-level="1">
                  Non-Interactive Image Mirroring
                </a>
                  <ul class="md-toc__list">
                      <li class="md-toc__item">
                        <a href="#preparation" class="md-toc__link" data-md-level="2">
                          Preparation
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#stage-1-core" class="md-toc__link" data-md-level="2">
                          Stage 1 - Core
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#stage-2-apps" class="md-toc__link" data-md-level="2">
                          Stage 2 - Apps
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#stage-3-cp4d" class="md-toc__link" data-md-level="2">
                          Stage 3 - CP4D
                        </a>
                      </li>
                      <li class="md-toc__item">
                        <a href="#stage-4-other-dependencies" class="md-toc__link" data-md-level="2">
                          Stage 4 - Other Dependencies
                        </a>
                      </li>
                  </ul>
              </li>
              <li class="md-toc__item">
                <a href="#storage-requirements" class="md-toc__link" data-md-level="1">
                  Storage Requirements
                </a>
              </li>
        </ul>
      </div>
    </div>
  </div>
</nav>
      </aside>
    </div>

    <!-- Footer - Full width outside container -->
    <footer class="md-footer">
      Built with <a href="https://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/durera/mkdocs-carbon">Carbon theme</a>
    </footer>
  
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": false, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
</script></body></html>
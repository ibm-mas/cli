#!/bin/bash

function load_config() {
  if [[ -e $DIR/mas.env ]]; then
    source $DIR/mas.env
  fi
}

function save_config() {
  cat << EOF > $DIR/mas.env
export ARTIFACTORY_USERNAME=$ARTIFACTORY_USERNAME
export ARTIFACTORY_APIKEY=$ARTIFACTORY_APIKEY

export IBM_ENTITLEMENT_KEY=$IBM_ENTITLEMENT_KEY

export MAS_INSTANCE_ID=$MAS_INSTANCE_ID
export MAS_CATALOG_SOURCE=$MAS_CATALOG_SOURCE
export MAS_CHANNEL_SELECTION=$MAS_CHANNEL_SELECTION
export MAS_CHANNEL=$MAS_CHANNEL
export MAS_ICR_CP=$MAS_ICR_CP
export MAS_ICR_CPOPEN=$MAS_ICR_CPOPEN
export MAS_ENTITLEMENT_USERNAME=$MAS_ENTITLEMENT_USERNAME
export MAS_ENTITLEMENT_KEY=$MAS_ENTITLEMENT_KEY

export MAS_DOMAIN=$MAS_DOMAIN
export CLUSTER_ISSUER_SELECTION=$CLUSTER_ISSUER_SELECTION
export MAS_CLUSTER_ISSUER=$MAS_CLUSTER_ISSUER

# DNS configuration
export DNS_PROVIDER_SELECTION=$DNS_PROVIDER_SELECTION
export CLOUDFLARE_EMAIL=$CLOUDFLARE_EMAIL
export CLOUDFLARE_APITOKEN=$CLOUDFLARE_APITOKEN
export CLOUDFLARE_ZONE=$CLOUDFLARE_ZONE
export CLOUDFLARE_SUBDOMAIN=$CLOUDFLARE_SUBDOMAIN
export CIS_EMAIL=$CIS_EMAIL
export CIS_APIKEY=$CIS_APIKEY
export CIS_CRN=$CIS_CRN
export CIS_SUBDOMAIN=$CIS_SUBDOMAIN

# Application configuration
export MAS_APP_SOURCE_IOT=$MAS_APP_SOURCE_IOT
export MAS_APP_CHANNEL_IOT=$MAS_APP_CHANNEL_IOT
export MAS_APP_SOURCE_MONITOR=$MAS_APP_SOURCE_MONITOR
export MAS_APP_CHANNEL_MONITOR=$MAS_APP_CHANNEL_MONITOR
export MAS_APP_SOURCE_SAFETY=$MAS_APP_SOURCE_SAFETY
export MAS_APP_CHANNEL_SAFETY=$MAS_APP_CHANNEL_SAFETY
export MAS_APP_SOURCE_MANAGE=$MAS_APP_SOURCE_MANAGE
export MAS_APP_CHANNEL_MANAGE=$MAS_APP_CHANNEL_MANAGE
export MAS_APP_SOURCE_PREDICT=$MAS_APP_SOURCE_PREDICT
export MAS_APP_CHANNEL_PREDICT=$MAS_APP_CHANNEL_PREDICT
export MAS_APP_SOURCE_OPTIMIZER=$MAS_APP_SOURCE_OPTIMIZER
export MAS_APP_CHANNEL_OPTIMIZER=$MAS_APP_CHANNEL_OPTIMIZER
export MAS_APP_PLAN_OPTIMIZER=$MAS_APP_PLAN_OPTIMIZER
export MAS_APP_SOURCE_HPUTILITIES=$MAS_APP_SOURCE_HPUTILITIES
export MAS_APP_CHANNEL_HPUTILITIES=$MAS_APP_CHANNEL_HPUTILITIES
export MAS_APP_SOURCE_ASSIST=$MAS_APP_SOURCE_ASSIST
export MAS_APP_CHANNEL_ASSIST=$MAS_APP_CHANNEL_ASSIST
export MAS_APP_SOURCE_VISUALINSPECTION=$MAS_APP_SOURCE_VISUALINSPECTION
export MAS_APP_CHANNEL_VISUALINSPECTION=$MAS_APP_CHANNEL_VISUALINSPECTION

# OpenShift Release
export OPENSHIFT_RELEASE=$OPENSHIFT_RELEASE
export OPENSHIFT_OPERATORS=$OPENSHIFT_OPERATORS

# SLS
export SLS_LICENSE_ID=$SLS_LICENSE_ID
export SLS_LICENSE_FILE_LOCAL=$SLS_LICENSE_FILE_LOCAL
export SLS_LICENSE_FILE=$SLS_LICENSE_FILE
export SLS_ICR_CP=$SLS_ICR_CP
export SLS_ICR_CPOPEN=$SLS_ICR_CPOPEN
export SLS_ENTITLEMENT_USERNAME=$SLS_ENTITLEMENT_USERNAME
export SLS_ENTITLEMENT_KEY=$SLS_ENTITLEMENT_KEY

# UDS
export UDS_CONTACT_EMAIL=$UDS_CONTACT_EMAIL
export UDS_CONTACT_FIRSTNAME=$UDS_CONTACT_FIRSTNAME
export UDS_CONTACT_LASTNAME=$UDS_CONTACT_LASTNAME

# Air Gap
export REGISTRY_USERNAME=$REGISTRY_USERNAME
export REGISTRY_PASSWORD=$REGISTRY_PASSWORD

export REGISTRY_PUBLIC_HOST=$REGISTRY_PUBLIC_HOST
export REGISTRY_PUBLIC_PORT=$REGISTRY_PUBLIC_PORT
export REGISTRY_PRIVATE_HOST=$REGISTRY_PRIVATE_HOST
export REGISTRY_PRIVATE_PORT=$REGISTRY_PRIVATE_PORT
export REGISTRY_PRIVATE_CA_FILE=$REGISTRY_PRIVATE_CA_FILE

export REDHAT_CONNECT_USERNAME=$REDHAT_CONNECT_USERNAME
export REDHAT_CONNECT_PASSWORD=$REDHAT_CONNECT_PASSWORD

# Provisioning
export IBMCLOUD_APIKEY=$IBMCLOUD_APIKEY
export IBMCLOUD_RESOURCEGROUP=$IBMCLOUD_RESOURCEGROUP
export FYRE_USERNAME=$FYRE_USERNAME
export FYRE_APIKEY=$FYRE_APIKEY
export FYRE_PRODUCT_ID=$FYRE_PRODUCT_ID

EOF
}

